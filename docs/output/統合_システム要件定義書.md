# 取扱説明書DX システム要件定義書（統合版）

**作成日**: 2026年1月22日  
**プロジェクト名**: 取扱説明書DX システム  
**バージョン**: 2.0（統合版）  
**対象**: 開発部門、事業開発部門、ステークホルダー

---

## 📋 エグゼクティブサマリー

### 事業の目的

従来の「読む取扱説明書」を、**AIエージェントを活用した"先回りして最適化した情報を届ける仕組み"**へ進化させるDX事業。

**核心コンセプト**: 「探す」から「届く」へ  
→ ユーザーが探さなくても、必要な情報が自動で届くシステムを構築

### 開発の目標（Phase 1）

**Phase 1（2026年度、0-9ヶ月）で実現すべき成果:**
- 問合せ削減率：20-30%（最終目標30%以上）
- 回答精度：90%以上
- レスポンス時間：1秒以下
- プロアクティブ案内利用率：40%以上
- 緊急時問合せ削減率：50%以上

**売上目標**: 2026年度2億円（PoC実施、市場検証・基盤構築）

### 期待されるビジネスインパクト

- **2026年度**: 2億円（PoC実施、市場検証・基盤構築）
- **2027年度**: 12億円（5社導入、損益分岐点到達）
- **2028年度**: 35億円（ROI 30%以上）
- 初期投資2.5億円で3年以内黒字化可能性

---

## 1. システム概要

### 1.1 システムの目的

**解決する具体的な課題:**
- 取扱説明書は読まれない：従来の「読む」前提の説明書では、実際の利用率が極めて低い
- 機能の未活用：自動車機能の高度化により、ユーザーは多くの機能を十分に活用できていない
- 情報が配布物として固定化されている：SDV（ソフトウェア定義車両）の普及により、ソフトウェアアップデートに伴って機能や操作方法が変化し続けるため、情報も継続的に更新される仕組みが必要
- 問い合わせ増加によるコスト増大：顧客満足度の低下や、問い合わせ増加によるコスト増大のリスク

**目標とする成果:**
- 機能利用率：30% → 70%
- 問合せ削減率：30%削減
- 緊急時問合せ削減率：50%削減
- プロアクティブ案内利用率：40%以上
- 回答精度：90-95%
- レスポンス時間：1秒以下
- NPS：50以上

### 1.2 システムの位置づけ

```
【提供チャネル】
├─ 車載AIエージェント（車内）※Phase 2以降
├─ スマホアプリ（iOS/Android）※Phase 1
├─ Web版Chatbot（コールセンター・販売店スタッフ向け）※Phase 1
├─ Web管理画面（OEM向け）※Phase 1
└─ コールセンター・販売店連携※Phase 2以降

【コアシステム】
├─ RAGベースの検索型AI（9つのインテント分類対応）
├─ プロアクティブ情報提供エンジン
├─ データクリーニング・構造化システム
└─ データ還流システム（Phase 2以降）
```

### 1.3 情報アーキテクチャ（4層構造）

#### 概要

| レイヤー | 内容 | 開発優先度 | Phase |
|:--|:--|:--|:--|
| **L1：取扱情報ベース** | 製品機能、操作手順、安全情報の構造化データ | 最高 | Phase 1 |
| **L2：文脈データ層** | 状況・環境・ユーザー属性データ | 高 | Phase 2 |
| **L3：AIガイド層** | 状況認識＋提案生成 | 最高 | Phase 1（限定版）→ Phase 3（本格版） |
| **L4：体験ログ層** | 利用データ・嗜好・行動ログ | 中 | Phase 2以降 |

---

#### L1：取扱情報ベース層

**概要**  
製品に関する基礎的な構造化データを格納する最下層。すべての情報提供の土台となる。

| 項目 | 内容 |
|------|------|
| **開発優先度** | 最高 |
| **Phase** | Phase 1 |
| **主要データ** | • 製品仕様・機能一覧<br>• 操作手順（ステップバイステップ）<br>• 安全情報・警告・注意事項<br>• トラブルシューティング情報<br>• メンテナンス情報<br>• 部品構成・交換部品リスト |
| **データ構造** | • JSON/XML形式での構造化<br>• タグ付けによる分類（機能、難易度、製品カテゴリ等）<br>• 多言語対応フィールド<br>• バージョン管理機能 |
| **技術要件** | • CMS（コンテンツ管理システム）<br>• 検索インデックス構築<br>• API提供（CRUD操作） |
| **データ例** | 「電子レンジの解凍機能」→ 手順、時間設定、食材別推奨設定、注意事項 |

---

#### L2：文脈データ層

**概要**  
ユーザーの状況や環境に応じた情報提供を可能にする文脈情報を管理。

| 項目 | 内容 |
|------|------|
| **開発優先度** | 高 |
| **Phase** | Phase 2 |
| **主要データ** | • **状況データ**: 時刻、季節、天候<br>• **環境データ**: 設置場所、周辺機器、ネットワーク状態<br>• **ユーザー属性**: スキルレベル、使用履歴、言語設定、アクセシビリティ設定<br>• **デバイス情報**: 製品モデル、ファームウェアバージョン、購入日 |
| **データ構造** | • リアルタイム収集データ<br>• ユーザープロファイル（匿名化可能）<br>• セッション管理 |
| **活用例** | • 初心者には詳細説明、上級者には簡潔な情報<br>• 夏季は冷房関連、冬季は暖房関連の情報を優先表示<br>• 使用頻度の低い機能に対して再説明を提供 |
| **技術要件** | • セッションストレージ<br>• プロファイル管理DB<br>• コンテキスト推論エンジン |
| **プライバシー考慮** | GDPR/個人情報保護法準拠、オプトイン/オプトアウト機能 |

---

#### L3：AIガイド層

**概要**  
L1・L2のデータを基に、AIが状況を理解し最適な提案・ガイダンスを生成する知能層。

| 項目 | 内容 |
|------|------|
| **開発優先度** | 最高 |
| **Phase** | Phase 1（限定版）→ Phase 3（本格版） |
| **Phase 1（限定版）** | • 基本的なQ&A対応<br>• キーワードベースの検索強化<br>• 定型的なトラブルシューティングガイド<br>• ルールベースの状況判断 |
| **Phase 3（本格版）** | • 自然言語での質問理解（NLU）<br>• 状況に応じた動的なガイド生成<br>• マルチステップの問題解決フロー<br>• 予測的な提案（「次にこの操作が必要かもしれません」）<br>• 音声・画像入力対応 |
| **主要機能** | • **状況認識**: L2データを解析し、ユーザーの現在の課題を特定<br>• **提案生成**: 最適な操作手順、設定、代替案を提示<br>• **対話管理**: 段階的な質問で問題を絞り込み<br>• **学習機能**: フィードバックから応答品質を改善 |
| **技術要件** | • LLM（Large Language Model）統合<br>• RAG（Retrieval-Augmented Generation）<br>• 対話フロー管理エンジン<br>• フィードバックループ機構 |
| **応答例** | ユーザー: 「洗濯物が臭う」<br>AI: 「洗濯槽のカビが原因の可能性があります。槽洗浄コースを3ヶ月実施していない場合は実行をお勧めします。手順をご案内しましょうか？」 |

---

#### L4：体験ログ層

**概要**  
ユーザーの利用履歴・行動パターン・嗜好を蓄積し、パーソナライズと製品改善に活用。

| 項目 | 内容 |
|------|------|
| **開発優先度** | 中 |
| **Phase** | Phase 2以降 |
| **主要データ** | • **利用データ**: アクセス頻度、閲覧ページ、滞在時間<br>• **行動ログ**: 検索キーワード、選択した操作手順、完了/未完了<br>• **嗜好データ**: よく使う機能、表示形式の好み（動画/テキスト）<br>• **フィードバック**: 評価（役に立った/立たなかった）、コメント<br>• **問題解決履歴**: 過去のトラブルと解決方法 |
| **活用シーン** | • パーソナライズされたホーム画面<br>• 「あなたがよく使う機能」の優先表示<br>• 未使用の便利機能の提案<br>• カスタマーサポートへのデータ提供<br>• 製品開発へのフィードバック（どの機能が使いにくいか等） |
| **データ構造** | • 時系列データベース<br>• イベントログ形式<br>• 集計・分析用データウェアハウス |
| **技術要件** | • ログ収集基盤（Fluentd, Logstash等）<br>• 分析ツール（Google Analytics, Mixpanel等）<br>• BI（Business Intelligence）ダッシュボード |
| **分析例** | • 「解凍機能の説明ページは閲覧されるが、実際に使われていない」→ UI改善の示唆<br>• 「エラーコードE03で検索が急増」→ 製品不具合の早期検知 |

---

#### レイヤー間の連携フロー

```
[ユーザーの質問/操作]
        ↓
    L4: 過去の履歴を参照
        ↓
    L3: AIが状況を理解し、L1・L2を参照して最適な回答を生成
        ↓
    L2: 現在の文脈（時刻、ユーザー属性等）を適用
        ↓
    L1: 正確な製品情報を提供
        ↓
  [パーソナライズされた回答]
        ↓
    L4: 今回の体験を記録（次回に活用）
```

---

#### 段階的な実装戦略

| Phase | 実装内容 | 実現する価値 |
|-------|---------|-------------|
| **Phase 1** | L1完全構築 + L3限定版 | 基本的な情報提供とQ&A機能 |
| **Phase 2** | L2構築 + L4基盤 | 文脈に応じた情報提供開始 |
| **Phase 3** | L3本格版 + L4分析活用 | 高度なAIガイドとパーソナライゼーション |

この4層構造により、単なる「デジタル取扱説明書」から「ユーザーに寄り添うインテリジェントアシスタント」へと進化させることが可能になります。

---

## 2. 主な機能

### 2.1 コア機能（4つ）

1. **RAGベースの検索型AI**
   - 4つのインテント分類に対応した高精度な情報検索・回答システム
   - 回答精度90-95%、レスポンス1秒以下
   - 問題解決サポート、操作方法ガイドに対応

2. **プロアクティブ情報提供**
   - 状況ベースの先回り案内（車両状態・環境の変化に応じた自動案内）
   - ログベースの案内・提案（利用履歴に基づく未使用機能の提案等）
   - ユーザーが探さなくても必要な情報が届く

3. **データ還流システム**
   - ユーザーの利用データや行動ログを商品企画へフィードバック
   - 商品企画へのデータ還流率60%以上、開発効率20%向上
   - OEMの商品開発・改善に貢献

4. **マルチチャネル展開**
   - スマホアプリ（iOS/Android）
   - Web版Chatbot（コールセンター・販売店スタッフ向け）
   - Web管理画面（OEM向け）
   - 車載AIエージェント（Phase 2以降）
   - ユーザー接点の多様化による利便性向上

### 2.2 差別化機能（3つ）

1. **DOI独自のRAG最適化技術**
   - セマンティック境界チャンキング
   - マルチベクトル戦略
   - ハイブリッド検索
   - データクリーニング・構造化技術（PDFから高品質データを抽出）
   - 検索精度15-20%向上、検索速度40%向上、誤回答削減

2. **インテント別動的最適化**
   - 4つのインテント（検索型2つ＋プロアクティブ型2つ）に対応した最適化システム
   - インテント検出精度95%+
   - インテント別プロンプトテンプレート

3. **Safe × Smart × Delightの3軸体験設計**
   - Safe: 誤操作防止、緊急時の即座対応
   - Smart: 文脈認識による最適提案、パーソナライゼーション
   - Delight: 潜在機能の発見提案、新しい使いこなし方の提案

### 2.3 付加価値機能（2つ）

1. **取扱データ編集のAI化**
   - データクリーニング・構造化技術を活用した制作支援ツール
   - 従来の手作業による編集から、AI支援による効率化
   - 制作工数60%削減、OEMの制作コスト削減に貢献

2. **多様化対応機能**
   - 高齢者向け: 大きな文字、音声案内、シンプルなUI
   - 外国人向け: 多言語対応（日本語、英語、中国語等）
   - デジタルネイティブ向け: 動画・AR活用、インタラクティブなガイド

### 2.4 提供する価値

**ユーザーにとっての直接的価値:**
- 必要なタイミングで必要な説明が届く「安心感」
- 機能をすぐに使いこなせる「利便性」（学習時間50%削減）
- 個々の利用状況に応じた「パーソナライズ体験」
- 緊急時の即座な対応支援による「安全性向上」
- 段階的ガイドによる「誤対応防止」と「自信向上」
- 情報提示の満足度：3.0/5.0 → 4.5/5.0以上

**ビジネスにとっての価値:**
- 問い合わせ削減、サポートコスト削減（問合せ30%削減、サポートコスト40%削減）
- 機能利用率向上による顧客満足・ブランド強化（CSAT 85%以上、NPS 50以上）
- 商品企画・開発にデータが還流（商品企画へのデータ還流率60%以上、開発効率20%向上）
- 緊急対応機能による「安全性ブランド」の差別化
- 自己対応支援による「顧客満足度」の大幅向上

**社会的価値:**
- 紙削減・印刷事業縮小への対応（環境規制強化への対応）
- 新エネルギー車・自動運転時代の安全性確保
- SDV化による複雑化への対応
- ユーザーの多様化（高齢化・国際化）への対応
- スマートシティの普及への対応

---

## 3. 機能要件

### FR-1: RAGベースの検索型AI

**概要**: 4つのインテント分類に対応した高精度な情報検索・回答システム

**開発期間**: 2-3ヶ月  
**優先度**: 最高（コア機能）

**詳細要件:**

- **FR-1.1 データクリーニング・構造化**
  - PDFやドキュメントから不要な要素（ヘッダー・フッター・ページ番号など）を除去
  - 取扱説明書特有の構造（章・節・手順・注意事項など）に基づいて構造化
  - データ品質向上、誤回答削減
  - **技術要件**: PDFパーサー、構造解析アルゴリズム

- **FR-1.2 セマンティック境界チャンキング**
  - 章・節・手順単位での分割
  - コンテキストオーバーラップ設計
  - **目標**: 検索精度15-20%向上

- **FR-1.3 マルチベクトル戦略**
  - タイトル・本文・メタデータを個別にベクトル化
  - 用途に応じて使い分け
  - **目標**: 検索速度40%向上

- **FR-1.4 ハイブリッド検索**
  - ベクトル検索+キーワード検索の統合（RRF: Reciprocal Rank Fusion）
  - 検索前フィルタリング（メタデータ活用で不要な検索を削減、コスト40%削減）

- **FR-1.5 インテント検出・ルーティング**
  - **4つのインテント分類（検索型2つ＋プロアクティブ型2つ）の検出**
    
    - **検索型（ユーザーが質問・検索する）:**
      
      1. **問題解決サポート**
         - 内容: 警告灯点灯、異常発生、エラー対応、トラブルシューティング
         - システム動作: 緊急度を自動判定
           - 緊急度：高（赤色警告灯、走行危険等）→ 即座対応の指示
           - 緊急度：中〜低（黄色警告灯、利便性の問題等）→ 診断フローで原因特定
         - 例: 
           - 緊急「エンジン警告灯（赤）が点灯」→ 即座に停車指示
           - 通常「エアコンが冷えない」→ 診断フロー開始
           - エラー「エラーコードP0420」→ 原因と対処法を提示
      
      2. **操作方法ガイド**
         - 内容: 基本操作の質問、段階的ガイド、機能比較・選択
         - システム動作: 操作の複雑度を自動判断
           - シンプルな操作 → 簡潔な回答
           - 複雑な操作 → 段階的ガイド
           - 選択肢がある場合 → 比較情報を提供
         - 例:
           - 簡単「ワイパーの使い方は？」→ 簡潔な説明
           - 複雑「Bluetooth接続の設定方法は？」→ ステップバイステップガイド
           - 比較「エコモードとスポーツモードの違いは？」→ 比較表示
    
    - **プロアクティブ型（情報が自動で届く）:**
      
      3. **状況ベースの先回り案内**
         - トリガー: 車両状態の変化、環境の変化、ユーザーの行動パターン
         - 提供情報: その状況で必要な操作方法、推奨される設定、注意事項
         - パーソナライゼーション: ユーザーの知識レベルに応じて説明の詳細度を調整
         - 技術基盤: L2（文脈データ層）のリアルタイムデータを活用
         - 例:
           - 雨天検知 → 「ワイパーの自動モードがオンになっていません。オンにしますか？」
           - 高速道路進入 → 初心者「クルーズコントロールの使い方をご案内します」/ 上級者「クルーズコントロール利用可能です」
           - 夜間走行 → 「オートハイビームをオンにすると便利です」
      
      4. **ログベースの案内・提案**
         - トリガー: 利用履歴分析、未使用機能の検出、利用回数ベース、イベントベース
         - 提供情報: 利用履歴に基づく最適な案内、未使用の便利機能の紹介、メンテナンス案内、新機能案内
         - 技術基盤: L4（体験ログ層）の履歴データを活用
         - 例:
           - 納車直後 → 「まずは基本機能をご案内します」
           - 1ヶ月後 → 「シートヒーター機能をまだ使っていませんね。冬に便利ですよ」（Delight体験）
           - 3ヶ月後 → 「オイル交換の時期です」
           - 長距離ドライブ前 → 「高速道路で便利な機能をご紹介します」
  
  - インテント検出精度95%+
  - インテント別に最適化されたプロンプトテンプレート（検索型2種、プロアクティブ型2種）

- **FR-1.6 回答生成**
  - **LLM統合**
    - マルチプロバイダー対応（GPT-4o / Claude 3.7 Sonnet / Gemini 2.0 Pro）
    - プロバイダー自動切り替え機能（障害時のフォールバック）
    - コスト最適化（プロバイダー別の料金比較、キャッシュ活用）
  
  - **プロンプトエンジニアリング**
    - インテント別プロンプトテンプレート（検索型2種、プロアクティブ型2種）
    - Few-shot学習による回答品質向上
    - システムプロンプトの最適化（取扱説明書特有の表現、安全性重視のトーン）
  
  - **回答品質管理**
    - 回答精度90-95%以上
    - 誤回答検出機能（信頼度スコアの算出）
    - 回答不能時の適切なエスカレーション（「販売店にお問い合わせください」等）
    - 安全性重視の回答生成（緊急時は明確な指示、曖昧な表現を避ける）
  
  - **パフォーマンス最適化**
    - レスポンス時間1秒以下（90-95%のクエリ）
    - ストリーミングレスポンス対応（長文回答時のUX改善）
    - キャッシュ戦略（よくある質問の回答をキャッシュ）
  
  - **複合質問対応**
    - 複数の質問を含むクエリの分解
    - 順序立てた回答生成（ステップバイステップ）
    - 関連情報の自動提示（「こちらも参考になります」）
  
  - **回答フォーマット**
    - Markdown形式での構造化された回答
    - 箇条書き、番号付きリスト、表形式の活用
    - 画像・動画へのリンク挿入
    - 参照元ページへのリンク（トレーサビリティ確保）
  
  - **多言語対応**
    - 日本語、英語、中国語等の多言語回答生成
    - ユーザーの言語設定に応じた自動切り替え
  
  - **技術要件**
    - RAGパイプライン統合（検索結果を基にした回答生成）
    - コンテキスト管理（会話履歴の保持、文脈を考慮した回答）
    - エラーハンドリング（LLM API障害時の対応）

---

### FR-2: プロアクティブ情報提供

**概要**: ユーザーが探さなくても、必要な情報が自動で届くシステム

**開発期間**: 2-3ヶ月  
**優先度**: 最高（差別化機能）

**Phase 1で実装すべき機能:**

- **FR-2.1 状況ベースの先回り案内（限定版）**
  - Phase 1では基本的な状況認識（時刻、よくある状況）に基づく案内を実装
  - **提供情報**: 基本的な操作方法、推奨される設定、注意事項
  - **目標**: プロアクティブ案内利用率40%以上
  - **技術要件**: 基本的なコンテキスト分析、ルールベースの判定エンジン
  - **例**:
    - 夜間走行時 → 「オートハイビームをオンにすると便利です」
    - 長距離ドライブ時 → 「休憩を取ることをお勧めします」

- **FR-2.2 ログベースの案内・提案（基本版）**
  - 利用履歴に基づいて必要な情報を自動提示
  - **提供情報**: 基本機能の案内、メンテナンス案内
  - **技術要件**: ユーザー状態管理、利用履歴分析エンジン、ログ収集基盤
  - **例**:
    - 納車直後 → 「まずは基本機能をご案内します」
    - 3ヶ月後 → 「オイル交換の時期です」

- **FR-2.3 よくある質問の自動提示**
  - ユーザーの状況に応じて、関連するよくある質問を自動表示
  - **技術要件**: ユーザーコンテキスト分析、FAQマッチング

**Phase 1では実装しない機能（Phase 2以降）:**

- **FR-2.4 問題解決サポート（緊急時自動案内）**（Phase 2以降）
  - 警告灯点灯時、異常検知時に自動で対応方法を提示
  - 緊急度を自動判定し、即座対応の指示または診断フロー開始
  - **目標**: 緊急時問合せ削減率50%以上
  - **技術要件**: 車両データ連携（OBD-II、コネクテッドカーAPI）、リアルタイム処理

**Phase 3以降の高度化:**

- **FR-2.5 状況ベースの先回り案内（本格版）**（Phase 3以降）
  - 車両状態・環境（天候・道路状況など）の高度な認識
  - パーソナライゼーション（ユーザーの知識レベルに応じた説明調整）
  - **技術基盤**: L2（文脈データ層）のリアルタイムデータを活用
  - **例**:
    - 雨天検知 → 「ワイパーの自動モードがオンになっていません。オンにしますか？」
    - 高速道路進入 → 初心者「クルーズコントロールの使い方をご案内します」/ 上級者「クルーズコントロール利用可能です」

- **FR-2.6 ログベースの案内・提案（本格版）**（Phase 3以降）
  - 未使用機能の検出と提案（Delight体験）
  - 利用回数ベース、イベントベースの高度な案内
  - **技術基盤**: L4（体験ログ層）の履歴データを活用
  - **例**:
    - 1ヶ月後 → 「シートヒーター機能をまだ使っていませんね。冬に便利ですよ」（Delight体験）
    - 長距離ドライブ前 → 「高速道路で便利な機能をご紹介します」
  - 機能発見率：20-30% → 60%以上

---

### FR-3: マルチチャネル展開

**概要**: スマホアプリ、Web版Chatbot（コールセンター・販売店スタッフ向け）、Web管理画面、車載AIエージェント、コールセンター・販売店連携など複数チャネルで展開

**開発期間**: 並行開発（Phase 1全体を通じて）  
**優先度**: 高

**Phase 1で実装すべきチャネル:**

- **FR-3.2 スマホアプリ**
  - iOS/Android対応
  - プッシュ通知機能
  - AR機能（ARカメラ連携）
  - **技術スタック**: Flutter（既存計画で検討）

- **FR-3.3 Web版Chatbot**（新規追加）
  - コールセンター・販売店スタッフ向けのWeb版Chatbot
  - 問合せ対応時の情報検索・回答支援機能
  - ブラウザからアクセス可能なChatbotインターフェース
  - RAG API連携による高精度な回答提供
  - **技術スタック**: Next.js + TypeScript + Supabase（推奨）

- **FR-3.4 Web管理画面**（管理画面）
  - OEM向け管理画面
  - データ分析・レポート機能
  - **技術スタック**: Next.js + TypeScript + Supabase（推奨）

**Phase 1では実装しないチャネル（Phase 2以降）:**

- **FR-3.1 車載AIエージェント連携**（Phase 2以降）
  - 車載システムとのAPI連携
  - リアルタイムでの情報提供

- **FR-3.5 コールセンター・販売店連携**（Phase 2以降）
  - **コールセンターシステム連携**
    - コールセンターシステムとのAPI連携
    - 問合せ履歴の自動記録
    - オペレーター向けの回答支援機能
    - 問合せ削減支援（問合せ件数30%削減目標）
  
  - **販売店システム連携**
    - 販売店のCRM/DMS（Dealer Management System）との連携
    - 商談時の製品説明支援（営業スタッフ向けの情報提供）
    - 納車説明の効率化（デジタル取扱説明書への誘導、重要機能の説明支援）
    - 顧客ごとのカスタマイズ情報の共有
  
  - **提供する価値**
    - コールセンター: 対応時間短縮、顧客満足度向上
    - 販売店: 商談時間短縮、納車説明の効率化、顧客満足度向上
    - ユーザー: 一貫した情報提供、スムーズな納車体験

---

### FR-4: データ還流システム

**概要**: ユーザーの利用データや行動ログを商品企画へフィードバック

**優先度**: 中（Phase 2以降）

**詳細要件:**

- **FR-4.1 利用データ収集**
  - ユーザー行動ログの収集
  - 車両データの収集（車両状態、使用環境、操作履歴など）
  - 問合せログ、満足度指標の収集

- **FR-4.2 データ分析**
  - 利用パターン分析
  - 機能利用率分析
  - 問合せパターン分析

- **FR-4.3 データ還流**
  - 商品企画へのデータ還流率60%以上
  - 企画会議でのデータ活用
  - 開発効率20%向上

---

### FR-5: 取扱データ編集のAI化

**概要**: 従来の手作業による編集から、AI支援による効率化  
**FR-1.1のデータクリーニング・構造化技術を活用した制作支援ツール**として、OEM/制作担当者が新規取扱説明書を編集・制作する際の工数を削減する機能

**優先度**: 中

**詳細要件:**

- **FR-5.1 AI支援編集**
  - 取扱説明書の自動構造化
  - メタデータの自動付与
  - 制作工数60%削減

- **FR-5.2 品質管理**
  - 自動品質チェック
  - 継続的な改善プロセス

---

### FR-6: 多様化対応機能

**概要**: 高齢者・外国人・デジタルネイティブ向けカスタマイズ機能

**優先度**: 中

**詳細要件:**

- **FR-6.1 多言語対応**
  - 多言語翻訳機能
  - 多言語コンテンツ管理

- **FR-6.2 アクセシビリティ対応**
  - 高齢者向けUI/UX
  - 音声案内機能
  - 文字サイズ調整

- **FR-6.3 パーソナライゼーション**
  - ユーザーの知識レベルに応じた説明の詳細度調整
  - コミュニケーション設定（音声/テキスト入力の好み）

---

## 4. 非機能要件

### NFR-1: パフォーマンス

**想定ユーザー規模**: 
- Phase 1初期：1,000-5,000ユーザー規模
- Phase 1完了時：10,000-50,000ユーザー規模
- 最終目標：MAU 100万人

**要件:**

| 項目 | 目標値 | 測定方法 |
|:--|:--|:--|
| **レスポンス時間** | 1秒以下（90-95%のクエリ） | API応答時間の測定 |
| **同時接続数** | 初期1,000接続、最終10,000接続以上 | 負荷テスト |
| **スループット** | 初期1,000リクエスト/分、最終10,000リクエスト/分以上 | 負荷テスト |
| **可用性** | 99.5%以上（月間ダウンタイム43分以内） | 監視システム |
| **平均復旧時間（MTTR）** | 30分以内 | 監視システム |

---

### NFR-2: セキュリティ

**要件:**
- **認証・認可**: 多要素認証（MFA）対応、OAuth 2.0 / OpenID Connect対応
- **データ暗号化**: 転送時（TLS 1.3）、保存時（AES-256）の暗号化
- **プライバシー保護**: 個人情報保護法、GDPR対応
- **アクセス制御**: ロールベースアクセス制御（RBAC）
- **セキュリティ監査**: 定期的なセキュリティ監査、脆弱性スキャン

---

### NFR-3: スケーラビリティ

**要件:**
- **水平スケーリング**: クラウドネイティブアーキテクチャによる自動スケーリング
- **データベーススケーリング**: 読み取りレプリカ、シャーディング対応
- **キャッシュ戦略**: Redis等によるキャッシュ層の実装
- **CDN**: 静的コンテンツのCDN配信

---

### NFR-4: 信頼性・可用性

**要件:**
- **可用性**: 99.5%以上（月間ダウンタイム43分以内）
- **データバックアップ**: 日次バックアップ、ポイントインタイムリカバリ対応
- **災害復旧**: RTO（目標復旧時間）4時間以内、RPO（目標復旧時点）1時間以内
- **監視・アラート**: 24時間365日の監視、自動アラート機能

---

### NFR-5: 保守性・拡張性

**要件:**
- **モジュール化**: マイクロサービスアーキテクチャまたはモジュール設計
- **API設計**: RESTful API、GraphQL対応
- **ドキュメント**: API仕様書、システム設計書の整備
- **バージョン管理**: 適切なバージョニング戦略

---

### NFR-6: コンプライアンス

**要件:**
- **個人情報保護**: 個人情報保護法、GDPR対応
- **データローカライゼーション**: 各国のデータ保存要件への対応
- **監査ログ**: すべての操作の監査ログ記録
- **データ保持期間**: 法的要件に基づくデータ保持期間の管理

---

## 5. 技術スタック

### 5.1 推奨技術スタック（本格運用対応版）

#### バックエンド（RAGシステム）

| レイヤー | 技術 | 選定理由 |
|:--|:--|:--|
| **言語** | Python 3.12+ | AI/ML統合、豊富なライブラリ、最新機能対応、型安全性向上 |
| **フレームワーク** | FastAPI 0.115+ | 高速、非同期対応、自動ドキュメント生成、本格運用向け機能 |
| **RAGフレームワーク** | LangChain / LangGraph / LlamaIndex | 実績、コミュニティ、エージェント機能（LangGraph）、取扱説明書向けカスタマイズが容易 |
| **LLM** | GPT-4o / Claude 3.7 Sonnet / Gemini 2.0 Pro | 最新モデル、マルチプロバイダー対応、コスト最適化、高精度 |
| **エンベディング** | OpenAI text-embedding-3-large / Cohere Embed v3 | 高精度、多言語対応、最新モデル |
| **ベクトルDB（本格運用）** | **Pinecone（第一候補）** | マネージド、99.99% SLA、自動スケーリング、サブ50ms p99レイテンシ、本格運用向け |
| **ベクトルDB（代替案）** | Weaviate / Qdrant | オープンソース、ハイブリッド検索対応、オンプレミス対応可能 |
| **ベクトルDB（小規模・PoC）** | Supabase + pgvector | PostgreSQL拡張、コスト効率、小規模向け（<10Mベクトル） |

#### フロントエンド

| プラットフォーム | 技術 | 選定理由 |
|:--|:--|:--|
| **Web管理画面** | Next.js + TypeScript | SSR、API Routes、Vercel統合、開発効率 |
| **モバイルアプリ** | Flutter | クロスプラットフォーム、既存計画、AR機能対応 |

#### インフラ・データベース

| カテゴリ | 技術 | 選定理由 |
|:--|:--|:--|
| **BaaS** | Supabase | PostgreSQL、認証、リアルタイム、コスト効率 |
| **データベース** | Neon (PostgreSQL) または Supabase | サーバーレス、自動スケーリング、Supabase統合、本格運用対応 |
| **ホスティング（Web）** | Vercel | Next.js統合、自動デプロイ、CDN、本格運用向け機能 |
| **ホスティング（API）** | AWS ECS / Azure Container Apps / GCP Cloud Run | コンテナベース、自動スケーリング、本格運用対応、既存パートナーとの整合性 |
| **オーケストレーション** | Kubernetes（本格運用時） | コンテナオーケストレーション、高可用性、スケーラビリティ |
| **キャッシュ** | Redis（AWS ElastiCache / Azure Cache） | 高速、セッション管理、マネージドサービスで運用性向上 |
| **ストレージ** | AWS S3 / Azure Blob Storage / GCP Cloud Storage | ファイルストレージ、CDN統合、本格運用向け |
| **メッセージキュー** | AWS SQS / Azure Service Bus / RabbitMQ | 非同期処理、タスクキュー、スケーラビリティ |

#### モニタリング・可観測性（本格運用必須）

| カテゴリ | 技術 | 選定理由 |
|:--|:--|:--|
| **RAG/LLM監視** | **LangSmith（第一候補）** / LangFuse | LLMトレース、コスト追跡、パフォーマンス監視、本格運用向け |
| **APM** | Datadog / New Relic / AWS X-Ray | アプリケーションパフォーマンス監視、分散トレーシング |
| **ログ管理** | AWS CloudWatch / Azure Monitor / GCP Cloud Logging | ログ集約、検索、アラート |
| **メトリクス** | Prometheus + Grafana | メトリクス収集、可視化、カスタムダッシュボード |
| **エラー追跡** | Sentry | エラー追跡、パフォーマンス監視、リリース追跡 |
| **Uptime監視** | Pingdom / UptimeRobot | 可用性監視、アラート |

#### セキュリティ（本格運用必須）

| カテゴリ | 技術 | 選定理由 |
|:--|:--|:--|
| **認証・認可** | Supabase Auth / Auth0 / AWS Cognito | 多要素認証、OAuth 2.0、本格運用対応 |
| **シークレット管理** | AWS Secrets Manager / Azure Key Vault / HashiCorp Vault | APIキー、認証情報の安全な管理 |
| **WAF** | AWS WAF / Cloudflare WAF | Webアプリケーションファイアウォール、DDoS対策 |
| **脆弱性スキャン** | Snyk / Dependabot | 依存関係の脆弱性検出、自動修正提案 |
| **コンプライアンス** | SOC 2 / ISO 27001対応 | セキュリティ認証、顧客要件対応 |

#### CI/CD・DevOps（本格運用必須）

| カテゴリ | 技術 | 選定理由 |
|:--|:--|:--|
| **CI/CD** | GitHub Actions / GitLab CI / Jenkins | 自動ビルド、テスト、デプロイ |
| **コンテナレジストリ** | AWS ECR / Azure Container Registry / Docker Hub | コンテナイメージ管理 |
| **インフラ即コード** | Terraform / AWS CDK / Pulumi | インフラのコード化、バージョン管理 |
| **設定管理** | Ansible / Chef / Puppet | サーバー設定の自動化 |
| **テスト** | pytest / Jest / Playwright | ユニットテスト、統合テスト、E2Eテスト |

#### 外部API連携

| 用途 | API/サービス | 備考 |
|:--|:--|:--|
| **車両データ** | OBD-II、コネクテッドカーAPI | Phase 2で本格実装 |
| **天気情報** | OpenWeatherMap API等 | Phase 3で本格実装 |
| **地図データ** | Google Maps API等 | Phase 3で本格実装 |

---

### 5.2 技術スタック選定の根拠

#### 本格運用を考慮した選定方針

**Phase 1（PoC・初期段階）:**
- **ベクトルDB**: Supabase + pgvector（コスト効率、小規模向け）
- **モニタリング**: LangSmith（無料プランから開始可能）
- **インフラ**: Vercel + Supabase（サーバーレス、運用負荷低）

**本格サービス化（Phase 2以降）:**
- **ベクトルDB**: Pinecone（マネージド、99.99% SLA、自動スケーリング）
- **モニタリング**: LangSmith + Datadog/New Relic（包括的監視）
- **インフラ**: AWS/Azure/GCP（コンテナベース、Kubernetes対応）
- **セキュリティ**: 包括的セキュリティスタック（WAF、シークレット管理、脆弱性スキャン）

#### 推奨アプローチ（ハイブリッド・段階的移行）

**RAGシステム（バックエンドAPI）:**
- **Phase 1**: Python 3.12+ + FastAPI + LangChain/LangGraph
- **本格運用**: コンテナ化（Docker）→ Kubernetes（スケール時）
- **モニタリング**: LangSmith（LLM監視）+ APM（アプリ監視）

**Webアプリケーション:**
- **Web管理画面**: Next.js 15+ + TypeScript + Supabase + Vercel
- **Web版Chatbot**: Next.js 15+ + TypeScript + Supabase + Vercel
- **モバイルアプリ**: Flutter 3.24+

**データベース戦略:**
- **Phase 1**: Supabase（PostgreSQL）+ pgvector（<10Mベクトル）
- **本格運用**: Pinecone（ベクトルDB）+ Supabase（PostgreSQL、アプリデータ）

#### 選定理由（本格運用視点）

**RAGシステム:**
- Python + LangChain/LangGraph: 実績、コミュニティ、エージェント機能対応
- FastAPI: 非同期処理、自動ドキュメント生成、本格運用向け機能
- 最新LLM（GPT-4o/Claude 3.7/Gemini 2.0）: 高精度、最新機能

**ベクトルDB:**
- **Pinecone（本格運用）**: マネージド、99.99% SLA、自動スケーリング、サブ50ms p99レイテンシ
- **pgvector（PoC）**: コスト効率、小規模向け、PostgreSQL統合

**モニタリング:**
- **LangSmith**: LLMトレース、コスト追跡、RAG品質監視、本格運用必須
- **APM（Datadog等）**: アプリケーションパフォーマンス、分散トレーシング

**セキュリティ:**
- 多層防御: WAF、認証・認可、シークレット管理、脆弱性スキャン
- コンプライアンス: SOC 2、ISO 27001対応準備

**CI/CD:**
- GitHub Actions: 自動ビルド、テスト、デプロイ、本格運用必須
- インフラ即コード: Terraform等でインフラのバージョン管理

#### 既存の開発計画との整合性

- 既存計画ではPython + FastAPI、Flutterが検討されている → 維持
- 本格運用に向けて段階的に技術スタックを強化

### 5.3 Phase別技術スタック移行戦略

#### Phase 1（0-9ヶ月）：PoC・初期段階

**目標**: 早期効果実証、コスト最適化

| カテゴリ | 技術 | 理由 |
|:--|:--|:--|
| **ベクトルDB** | Supabase + pgvector | コスト効率、小規模向け（<10Mベクトル）、PostgreSQL統合 |
| **LLM** | GPT-4o / Claude 3.7 Sonnet / Gemini 2.0 Pro | 最新モデル、マルチプロバイダー対応 |
| **モニタリング** | LangSmith（無料プラン） | LLM監視、コスト追跡、無料から開始可能 |
| **インフラ** | Vercel + Supabase | サーバーレス、運用負荷低、自動スケーリング |
| **セキュリティ** | Supabase Auth + 基本セキュリティ | 認証・認可、基本的なセキュリティ対策 |

#### Phase 2（9-15ヶ月）：本格サービス化準備

**目標**: スケーラビリティ確保、運用体制構築

| カテゴリ | 技術 | 理由 |
|:--|:--|:--|
| **ベクトルDB** | **Pinecone（移行）** | マネージド、99.99% SLA、自動スケーリング、本格運用対応 |
| **モニタリング** | LangSmith + Datadog/New Relic | 包括的監視、APM、分散トレーシング |
| **インフラ** | AWS/Azure/GCP（コンテナベース） | スケーラビリティ、高可用性、本格運用対応 |
| **セキュリティ** | 包括的セキュリティスタック | WAF、シークレット管理、脆弱性スキャン、コンプライアンス準備 |
| **CI/CD** | GitHub Actions + Terraform | 自動デプロイ、インフラ即コード、本格運用必須 |

#### Phase 3以降：本格運用・スケール

**目標**: 高可用性、グローバル展開、高度な運用

| カテゴリ | 技術 | 理由 |
|:--|:--|:--|
| **オーケストレーション** | Kubernetes | コンテナオーケストレーション、高可用性、マルチリージョン対応 |
| **モニタリング** | 包括的監視スタック | LangSmith + APM + ログ管理 + メトリクス + エラー追跡 |
| **セキュリティ** | エンタープライズ級セキュリティ | SOC 2、ISO 27001対応、多層防御 |
| **災害復旧** | マルチリージョン + バックアップ | RTO/RPO目標達成、高可用性 |

#### 移行時の考慮事項

**ベクトルDB移行（pgvector → Pinecone）:**
- Phase 1でpgvectorで構築、Phase 2でPineconeに移行
- 移行スクリプトの準備、データ移行計画
- ダウンタイム最小化のための段階的移行

**モニタリング強化:**
- Phase 1でLangSmithから開始、段階的にAPM等を追加
- メトリクス定義、アラート設定、ダッシュボード構築

**インフラ移行:**
- Phase 1でVercel + Supabase、Phase 2でコンテナベースに移行
- 段階的移行、ブルー・グリーンデプロイメント

---

## 6. 開発ロードマップ

### Phase 1：ハイブリッド型AI実証（0-9ヶ月）

**目的**: 検索型＋限定プロアクティブ型で早期効果実証

#### フェーズ1-1: RAGシステム構築（0-3ヶ月）

**目的**: 検索型AIの基盤構築

**主要タスク:**
1. **データクリーニング・構造化機能の実装**（3-4週間）
   - PDFパーサーの実装
   - 構造解析アルゴリズムの実装
   - メタデータ付与機能の実装

2. **セマンティック境界チャンキングの実装**（2-3週間）
   - 章・節・手順単位での分割アルゴリズム
   - コンテキストオーバーラップ設計

3. **マルチベクトル戦略の実装**（2-3週間）
   - タイトル・本文・メタデータの個別ベクトル化
   - ベクトルDBへの保存

4. **ハイブリッド検索の実装**（3-4週間）
   - ベクトル検索の実装
   - キーワード検索（BM25等）の実装
   - RRF（Reciprocal Rank Fusion）の実装
   - 検索前フィルタリングの実装

**成果物:**
- データクリーニング・構造化システム
- ベクトルDB構築
- ハイブリッド検索API

---

#### フェーズ1-2: 検索型AI実装（2-5ヶ月）

**目的**: 9つのインテント分類に対応した検索型AIの実装

**主要タスク:**
1. **インテント検出・ルーティングの実装**（3-4週間）
   - 9つのインテント分類の検出アルゴリズム
   - インテント別ルーティングロジック
   - プロンプトテンプレートの実装（10種類以上）

2. **回答生成機能の実装**（3-4週間）
   - LLM連携（GPT-4 / Claude 3.5 / Gemini 1.5 Pro）
   - マルチプロバイダー対応
   - 回答品質管理

3. **API実装**（2-3週間）
   - RESTful APIの実装
   - エラーハンドリング
   - ログ・監視機能

**成果物:**
- 検索型AI API
- インテント検出精度95%+
- 回答精度90%以上、レスポンス時間1秒以下

---

#### フェーズ1-3: プロアクティブ機能実装（3-6ヶ月）

**目的**: 限定プロアクティブ型（状況ベース案内、ログベース案内）の実装

**主要タスク:**
1. **状況ベース案内の実装（限定版）**（4-5週間）
   - 基本的な状況認識（時刻、よくある状況）の実装
   - ルールベースの判定ロジック
   - 自動案内の生成・配信

2. **ログベース案内の実装（基本版）**（3-4週間）
   - ユーザー状態管理（納車日、初回利用日等）
   - 利用履歴収集基盤の構築
   - 案内コンテンツの生成・配信

3. **よくある質問の自動提示の実装**（2-3週間）
   - ユーザーコンテキスト分析
   - FAQマッチングアルゴリズム
   - 自動提示機能

**成果物:**
- 状況ベース案内システム（限定版）
- ログベース案内システム（基本版）
- プロアクティブ案内利用率40%以上

---

#### フェーズ1-4: フロントエンド開発（並行、0-9ヶ月）

**目的**: スマホアプリ、Web版Chatbot、Web管理画面の開発

**主要タスク:**

**スマホアプリ（Flutter）:**
1. **基本UI実装**（4-6週間）
   - 検索画面
   - 回答表示画面
   - プロアクティブ通知画面

2. **API連携**（2-3週間）
   - RAG API連携
   - プロアクティブAPI連携

3. **プッシュ通知機能**（2-3週間）
   - Firebase Cloud Messaging連携
   - 通知設定機能

**Web版Chatbot（Next.js）:**
1. **基本UI実装**（3-4週間）
   - Chatbotインターフェース
   - 会話履歴表示
   - 検索・回答表示画面

2. **API連携**（2-3週間）
   - RAG API連携
   - 認証・認可機能（コールセンター・販売店スタッフ向け）

**Web管理画面（Next.js）:**
1. **基本UI実装**（3-4週間）
   - ダッシュボード
   - データ分析画面
   - 設定画面

2. **API連携**（2-3週間）
   - Supabase連携
   - データ分析API連携

**成果物:**
- iOS/Androidアプリ（基本機能）
- Web版Chatbot（コールセンター・販売店スタッフ向け）
- Web管理画面（基本機能）

**マイルストーン:**
- 3ヶ月：RAGシステム基盤完成
- 6ヶ月：検索型AI + プロアクティブ機能（限定版）完成
- 9ヶ月：フロントエンド完成、PoC開始

---

### Phase 2：文脈データ基盤構築（9-15ヶ月）

**目的**: 文脈理解に必要なデータ収集基盤を構築

**主要タスク:**
1. **車両データ連携**（2-3ヶ月）
   - OBD-II、コネクテッドカーAPIとの連携
   - リアルタイムデータ処理の実装

2. **ユーザー行動ログ収集**（1-2ヶ月）
   - 行動ログの収集・保存システム
   - プライバシー対応

3. **状況認識アルゴリズム開発**（2-3ヶ月）
   - 状況認識アルゴリズムの開発
   - プロアクティブ判定エンジンの実装

**成果物:**
- データ収集基盤確立
- 初期アルゴリズム開発

---

### Phase 3：本格プロアクティブ型への拡張（15-21ヶ月）

**目的**: プロアクティブ型インテントの本格実装（状況ベース・ログベース）

**主要タスク:**

1. **状況ベースの先回り案内（本格版）の実装**（3-4ヶ月）
   - **車両状態・環境の高度な認識**
     - 天候データ連携（雨天、雪、霧等の検知）
     - 道路状況認識（高速道路、山道、市街地等）
     - 車両状態のリアルタイム監視
   
   - **パーソナライゼーション機能**
     - ユーザーの知識レベルに応じた説明の詳細度調整
     - 使用履歴に基づく最適な提案生成
     - 初心者/上級者の自動判定
   
   - **先回り案内アルゴリズムの精緻化**
     - 状況判定ロジックの高度化
     - タイミング最適化（いつ案内を出すか）
     - 案内頻度の調整（煩わしくない頻度）
   
   - **L2（文脈データ層）との統合**
     - リアルタイムデータ処理基盤の構築
     - コンテキスト推論エンジンの実装
   
   - **実装例**:
     - 雨天検知 → 「ワイパーの自動モードがオンになっていません。オンにしますか？」
     - 高速道路進入 → 初心者「クルーズコントロールの使い方をご案内します」/ 上級者「クルーズコントロール利用可能です」
     - 夜間走行 → 「オートハイビームをオンにすると便利です」

2. **ログベースの案内・提案（本格版）の実装**（2-3ヶ月）
   - **未使用機能の検出と提案（Delight体験）**
     - 未使用機能の自動検出アルゴリズム
     - 機能の有用性スコアリング（どの機能を優先的に提案するか）
     - 提案タイミングの最適化
   
   - **利用回数ベース・イベントベースの高度な案内**
     - 利用回数に応じた段階的な案内（初回、10回目、100回目等）
     - イベント検知（季節の変わり目、長期休暇前等）
     - メンテナンス時期の自動案内
   
   - **L4（体験ログ層）との統合**
     - 行動ログ分析基盤の構築
     - 機能利用パターンの分析
     - パーソナライズドレコメンデーション
   
   - **実装例**:
     - 1ヶ月後 → 「シートヒーター機能をまだ使っていませんね。冬に便利ですよ」
     - 長距離ドライブ前 → 「高速道路で便利な機能をご紹介します」
     - 季節の変わり目 → 「エアコンの省エネ設定をご案内します」

**成果物:**
- 機能利用率向上（30%→60%、最終目標70%）
- 機能発見率向上（20-30% → 60%以上）
- プロアクティブ案内利用率60%以上
- 顧客満足度向上（NPS 50以上）

---

### Phase 4：高度化・循環化（21-30ヶ月）

**目的**: 体験価値の最大化とデータ循環の確立

**主要タスク:**

1. **AIガイドシステムの高度化**（2-3ヶ月）
   - **マルチモーダル対応**
     - 音声入力・音声出力の実装
     - 画像認識による問題診断（ユーザーが撮影した写真から問題を特定）
     - AR（拡張現実）による操作ガイド
   
   - **高度な対話機能**
     - 複数ターンの対話による問題解決
     - 曖昧な質問の明確化（「それはどういう意味ですか？」への対応）
     - 感情認識（ユーザーの困惑度に応じた対応）

2. **データ還流システム構築**（2-3ヶ月）
   - **データ分析・レポート機能**
     - 利用パターン分析ダッシュボード
     - 機能利用率レポート
     - 問合せパターン分析
     - トラブル発生傾向の可視化
   
   - **OEM向けデータ還流システム**
     - 商品企画へのデータ還流（どの機能が使いにくいか、どの説明が不足しているか）
     - 開発部門へのフィードバック（不具合の早期検知、改善提案）
     - マーケティング部門へのインサイト提供（ユーザーの実際の使い方）
   
   - **継続的改善プロセス**
     - A/Bテストによる案内方法の最適化
     - ユーザーフィードバックの自動収集・分析
     - プロンプトの自動最適化

**成果物:**
- NPS 50以上
- データ還流率60%以上
- 開発効率20%向上
- 商品企画への貢献（データドリブンな意思決定）

---

## 7. 開発体制（想定）

**必要なスキルセット:**
- AI/MLエンジニア（RAG、LLM、データエンジニアリング）：2-3名
- バックエンドエンジニア（Python、FastAPI）：1-2名
- フロントエンドエンジニア（Next.js、TypeScript）：1-2名
- Flutterエンジニア：1-2名
- プロダクトマネージャー：1名
- QAエンジニア：1名

**合計**: 7-11名

---

## 8. 成功基準（KPI）

### Phase 1の成功基準

| カテゴリ | 指標 | 目標値 | 測定方法 |
|:--|:--|:--|:--|
| **技術** | 回答精度 | 90%以上 | 評価データセットでの測定 |
| **技術** | レスポンス時間 | 1秒以下 | API応答時間の測定 |
| **技術** | インテント検出精度 | 95%+ | インテント検出の精度測定 |
| **ビジネス** | 問合せ削減率 | 20-30%（最終目標30%以上） | コールセンター問い合わせ件数 |
| **ビジネス** | 緊急時問合せ削減率 | 50%以上 | 緊急時問い合わせ件数 |
| **ユーザー** | プロアクティブ案内利用率 | 40%以上 | アプリログ分析 |
| **ユーザー** | 情報提示の満足度 | 4.5/5.0以上 | ユーザー満足度アンケート |

---

## 9. 制約条件

### 9.1 予算制約

**初期投資**: 2.5億円（R&D費用）
- 基本機能開発：1.5億円
- 緊急対応・先読みガイド機能開発：1.0億円

**内訳（想定）:**
- 人件費：60-70%
- インフラコスト：10-15%
- 外部パートナー・ツール：15-20%
- その他：5-10%

### 9.2 期間制約

**Phase 1**: 0-9ヶ月（2026年度内に完了）

**マイルストーン:**
- 3ヶ月：RAGシステム基盤完成
- 6ヶ月：検索型AI + プロアクティブ機能（限定版）完成
- 9ヶ月：フロントエンド完成、PoC開始

### 9.3 技術的制約

- **車両データ連携**: OBD-II、コネクテッドカーAPIの具体的な連携方法が未確定（Phase 1では簡易版で対応）
- **OEM要件**: セキュリティ要件、ブランドガイドラインが未確定（後で対応が必要）

---

## 10. 開発上の重要な考慮事項

### 10.1 技術的優位性の確保

**DOI独自のRAG最適化技術を実装することが最重要**

- セマンティック境界チャンキング
- マルチベクトル戦略
- ハイブリッド検索（RRF）
- 検索前フィルタリング

**これらが競合との差別化要因となるため、必ず実装すること**

### 10.2 「届く」体験の実装

**重要**: 検索型のみでは「取扱説明書を読まないユーザー」は使わない

**Phase 1で必ず実装すべき「届く」要素:**
- 状況ベース案内（限定版）
- ログベース案内（基本版）
- よくある質問の自動提示

### 10.3 データ品質の確保

- データクリーニング・構造化は回答精度に直結するため、品質を最優先
- 継続的な品質改善プロセスの構築

### 10.4 コスト最適化

- APIコストの削減（検索前フィルタリング、キャッシュ戦略）
- **目標**: APIコスト/質問を¥2-3に抑制（一般的RAGは¥5-10）

---

## 11. リスク分析

### 11.1 技術的リスク

#### 🔴 高リスク

1. **AIの回答精度が目標に届かない**
   - **発生確率**: 中
   - **影響度**: 高
   - **対策**: 
     - 段階的な開発、継続的な改善プロセス
     - 専門家アドバイザーの招聘
     - A/Bテストによる継続的な改善

2. **レスポンス時間が1秒以下に届かない**
   - **発生確率**: 中
   - **影響度**: 中
   - **対策**: 
     - キャッシュ戦略の最適化
     - CDNの活用
     - ベクトルDBの最適化

3. **車両データ連携の技術的課題**
   - **発生確率**: 高
   - **影響度**: 高
   - **対策**: 
     - 複数のデータソース（OBD-II、コネクテッドカーAPI）の検討
     - パートナーとの協業
     - 段階的な実装

#### 🟡 中リスク

1. **スケーラビリティの課題**
   - **発生確率**: 中
   - **影響度**: 中
   - **対策**: 
     - クラウドネイティブアーキテクチャの採用
     - 自動スケーリングの実装
     - 負荷テストの実施

2. **データプライバシー・セキュリティリスク**
   - **発生確率**: 中
   - **影響度**: 高
   - **対策**: 
     - セキュリティ監査の実施
     - プライバシーポリシーの策定
     - データ暗号化の実装

---

### 11.2 ビジネス的リスク

#### 🔴 高リスク

1. **OEMの意思決定プロセスの複雑さ**
   - **発生確率**: 高
   - **影響度**: 高
   - **対策**: 
     - ステークホルダーマップの作成
     - 段階的なアプローチ（PoC → 本契約）
     - 早期に効果を実証

2. **競合の参入リスク**
   - **発生確率**: 中
   - **影響度**: 高
   - **対策**: 
     - 技術的差別化の強化
     - 特許出願の検討
     - 早期の市場参入

#### 🟡 中リスク

1. **市場受容性リスク**
   - **発生確率**: 中
   - **影響度**: 中
   - **対策**: 
     - ユーザー調査の実施
     - 段階的な展開
     - フィードバックの収集・反映

---

### 11.3 法的/コンプライアンスリスク

#### 🔴 高リスク

1. **AIの誤回答による安全性リスク**
   - **発生確率**: 低
   - **影響度**: 高
   - **対策**: 
     - 品質管理体制の構築
     - 継続的な監視・改善
     - 法的責任の明確化（免責事項の設定）

2. **個人情報保護法・GDPR違反**
   - **発生確率**: 中
   - **影響度**: 高
   - **対策**: 
     - 法務部門との連携
     - プライバシーポリシーの策定
     - データ保護の実装

---

### 11.4 運用的リスク

#### 🟡 中リスク

1. **パートナー依存リスク**
   - **発生確率**: 中
   - **影響度**: 中
   - **対策**: 
     - 複数パートナーの確保
     - パートナー選定基準の明確化

2. **人材確保の困難**
   - **発生確率**: 高
   - **影響度**: 中
   - **対策**: 
     - 早期の人材確保計画
     - 外部パートナーとの協業
     - 既存メンバーのスキルアップ

---

## 12. UI/UXの方向性

### 12.1 デザインコンセプト

**ミニマルで機能的なデザイン**
- 情報過多を避け、必要な情報だけを提示
- クリーンで読みやすいインターフェース
- 自動車の安全性を重視した信頼感のあるデザイン

### 12.2 トーン＆マナー

**プロフェッショナルで親しみやすい**
- 安全性を重視した信頼感のあるトーン
- ユーザーをサポートする親しみやすいコミュニケーション
- 技術的でありながら、わかりやすい表現

### 12.3 ターゲットデバイス

**マルチデバイス対応**
- **モバイルファースト**: スマホアプリを主要チャネルとして設計
- **車載ディスプレイ**: 車載システムとの統合を考慮
- **Web管理画面**: OEM向け管理画面、公開ページ

### 12.4 参考サイト/アプリ

1. **Mercedes-Benz MBUX**: 
   - 車載AIエージェントのUI/UX参考
   - URL: https://www.mercedes-benz.com/en/innovation/connectivity/mbux/

2. **Tesla Owner's Manual (Mobile App)**: 
   - モバイルアプリでの取扱説明書の提示方法
   - シンプルで機能的なデザイン

3. **Google Assistant**: 
   - プロアクティブな情報提供のUI/UX参考
   - 自然な会話型インターフェース

---

## 13. 情報の前提と仮定

### 13.1 使用した情報源

1. **`docs/input/取扱説明書DX_事業計画_統合版.md`**
   - ビジネスモデル、収益構造、市場機会
   - 技術的差別化要因、戦略フェーズ
   - 提供価値、想定指標

2. **`docs/development/phase0-requirements.md`**
   - Phase 0の技術要件、開発体制
   - 技術スタックの検討内容

3. **`docs/development/rag-data-strategy.md`**
   - RAGシステムのデータ戦略
   - データソースの分類

4. **`docs/development/車両機能通知_system-development-plan.md`**
   - システム開発計画、技術スタック

### 13.2 情報が不足している場合に置いた仮定

1. **技術スタックの選定**
   - プロンプトの指示に従い、Next.js + TypeScript + Supabase + Neon + Vercelを第一候補として検討
   - ただし、既存の開発計画ではPython + FastAPI、Flutterが検討されているため、両方を評価
   - **仮定**: 初期段階ではWebアプリケーション（Next.js）とモバイルアプリ（Flutter）の両方を開発する可能性がある

2. **ユーザー規模**
   - Phase 1の初期ユーザー数が明確でないため、事業計画書の「2社とPoC実施」から推定
   - **仮定**: Phase 1初期は1,000-5,000ユーザー規模を想定

3. **開発期間**
   - 戦略フェーズでは「0-9ヶ月」とあるが、具体的な開発スケジュールが不明
   - **仮定**: Phase 1の開発期間は6-9ヶ月を想定

4. **チームスキル**
   - チームの既存スキルセットが不明
   - **仮定**: AI/MLエンジニア、フロントエンドエンジニア、バックエンドエンジニアを新規採用または既存メンバーで対応

5. **インフラコスト**
   - 詳細なインフラコストの内訳が不明
   - **仮定**: 初期段階では月額50-100万円程度のインフラコストを想定

---

## 14. 開発で参照すべき資料

### 14.1 既存の開発計画書

- `docs/development/phase0-requirements.md`: Phase 0の技術要件
- `docs/development/rag-data-strategy.md`: RAGシステムのデータ戦略
- `docs/development/車両機能通知_system-development-plan.md`: システム開発計画

### 14.2 技術的詳細

- **データ最適化レイヤー**: 事業計画書 2.5.1
- **インテント検出・ルーティング**: 事業計画書 2.5.2
- **情報アーキテクチャ**: 事業計画書 3

---

## 15. 追加情報リクエスト・質問事項

### 優先度：高

1. **技術スタックの最終決定**
   - RAGシステム：Python + FastAPI + LangChain で問題ないか？
   - Web管理画面：Next.js + Supabase + Vercel で問題ないか？
   - モバイルアプリ：Flutter で問題ないか？

2. **開発体制の確認**
   - 既存メンバーで対応可能なスキルは何か？
   - 新規採用が必要なスキル・人数は？

3. **開発スケジュールの実現可能性**
   - Phase 1（0-9ヶ月）のスケジュールは実現可能か？
   - リスク要因は何か？

4. **車両データ連携の技術的実現可能性**
   - OBD-II、コネクテッドカーAPIの連携は技術的に可能か？
   - Phase 1で簡易版を実装することは可能か？

5. **初期ユーザー規模の明確化**
   - Phase 1の初期ユーザー数は何名を想定しているか？（1,000名？5,000名？）

---

### 優先度：中

6. **インフラコストの見積もり**
   - Phase 1のインフラコスト（クラウド、データベース、API等）の月額見積もりは？

7. **セキュリティ要件の確認**
   - OEMから要求されるセキュリティ要件は何か？
   - 実装に必要な期間・コストは？

8. **データ保持期間・削除ポリシー**
   - ユーザーデータ、車両データの保持期間はどの程度か？

---

### 優先度：低

9. **国際展開の計画**
   - 海外展開の計画はあるか？どの地域を優先するか？

10. **ブランドガイドライン**
    - OEM向けのブランド統合要件が不明
    - OEMのブランドガイドラインに準拠する必要があるか？

---

## 16. 次のステップ

### 開発部門での確認事項

1. **技術スタックの最終決定**
   - 上記の推奨技術スタックで問題ないか確認
   - 代替案があれば提案

2. **開発体制の確定**
   - 必要な人材の確保計画
   - 外部パートナーの活用可否

3. **詳細設計の開始**
   - Phase 1の詳細設計書の作成
   - アーキテクチャ設計の開始

4. **PoC準備**
   - 2026年度内のPoC実施に向けた準備

---

**作成者**: 事業開発部門、開発部門  
**連絡先**: [連絡先情報]  
**次回更新予定**: 開発部門からのフィードバック後  
**要件定義書作成完了日**: 2026年1月22日
