# 情報提示レベル調整アルゴリズム - 設計書

**作成日：** 2026年1月14日  
**バージョン：** 1.0

---

## 📋 概要

ユーザーの理解度・習熟度に応じて、機能説明の詳細さやフォーマットを最適化するアルゴリズムです。購入ステータス、機能使用履歴、年齢層、運転頻度、トラブル履歴を組み合わせて、最適な情報提示レベルを判定します。

---

## 🎯 目的

### **課題**
- 熟練者には詳しすぎる説明が煩わしい
- 初心者には簡潔すぎる説明が理解できない
- 年齢層や運転頻度によって理解度が異なる
- 機能を使ったことがあるかどうかで必要な情報量が変わる

### **解決策**
- ユーザーごとに最適な説明レベルを自動判定
- 説明の詳細さ、フォーマット、文字量を調整
- 図解・アニメーション・音声案内の有無を制御
- ステップバイステップガイドの提供有無を決定

---

## 📊 判定ロジック

### **総合理解度スコアの計算**

```
総合理解度スコア = 購入ステータス補正値 × 
                   使用履歴補正値 × 
                   年齢層補正値 × 
                   運転頻度補正値 × 
                   トラブル履歴補正値 ×
                   車両タイプ補正値
```

**注：** 車両タイプ補正値は、レンタカーやカーシェアなど一時利用の場合に詳細説明が必要となるため追加。

### **スコアと説明レベルの対応**

| 総合理解度スコア | 説明レベル | 文字量 | フォーマット |
|----------------|----------|--------|------------|
| 2.5以上 | 最詳細 | 300文字以上 | 動画+ステップガイド+音声 |
| 2.0〜2.5未満 | 詳細 | 200-300文字 | ステップガイド+図解 |
| 1.5〜2.0未満 | やや詳細 | 150-200文字 | 図解+テキスト |
| 1.0〜1.5未満 | 標準 | 100-150文字 | テキスト+図解 |
| 0.8〜1.0未満 | 簡潔 | 50-100文字 | テキスト |
| 0.8未満 | 最簡潔 | 50文字以下 | テキストのみ |

---

## 📁 マスタファイル構成

### **3-1_購入ステータスマスタ（4種類）**

| ステータスID | ステータス名称 | 補正値 | 説明 |
|------------|--------------|-------|------|
| STATUS_001 | 新規購入直後 | 1.5 | 納車後1週間以内。詳細な説明が必要 |
| STATUS_002 | 新規購入初期 | 1.3 | 納車後1週間〜1ヶ月。丁寧な説明が必要 |
| STATUS_003 | 通常利用期間 | 1.0 | 納車後1ヶ月〜1年。標準的な説明レベル |
| STATUS_004 | 長期利用者 | 0.9 | 納車後1年以上。簡潔な説明で良い |

**注：** 中古車、レンタカー、カーシェアなどの車両種別は、既存の「1-18_車両タイプマスタ」で管理。

---

### **3-2_機能使用履歴マスタ（8種類）**

| 使用履歴ID | 履歴レベル | 使用回数 | 補正値 | 説明 |
|-----------|----------|---------|-------|------|
| USAGE_001 | 未使用 | 0回 | 1.5 | 機能を使ったことがない。詳細な初回説明が必要 |
| USAGE_002 | 初回使用 | 1回 | 1.3 | 初めて使用した段階。操作方法の復習が必要 |
| USAGE_003 | 試用段階 | 2〜5回 | 1.2 | 試している段階。操作に不慣れ |
| USAGE_004 | 習得中 | 6〜20回 | 1.0 | 使い方を学習中。標準的な説明レベル |
| USAGE_005 | 習熟段階 | 21〜50回 | 0.8 | 使い慣れてきた。簡潔な説明で良い |
| USAGE_006 | 熟練者 | 51回以上 | 0.6 | 完全に習熟。最小限の情報で良い |
| USAGE_007 | 休眠中 | 6回以上だが6ヶ月以上未使用 | 1.1 | 以前は使っていたが忘れている可能性 |
| USAGE_008 | 一度使用後放置 | 1〜5回だが3ヶ月以上未使用 | 1.3 | 試したが定着しなかった |

---

### **既存マスタの活用**

以下のマスタは既に作成済みのものを活用：

- **1-16_年齢層マスタ**（優先度補正を理解度補正として流用）
- **1-17_運転頻度マスタ**（優先度補正を理解度補正として流用）
- **1-18_車両タイプマスタ**（レンタカー、カーシェア、法人車両、個人車両などを管理）
- **1-19_トラブル履歴マスタ**（優先度補正を理解度補正として流用）

---

## 🎨 説明レベル別の特徴

### **最詳細レベル（スコア2.5以上）**

#### **対象ユーザー**
- 新規購入直後 + 高齢者 + ペーパードライバー + 未使用
- レンタカー（車両タイプ） + 新規 + 未使用
- カーシェア（車両タイプ） + 新規 + 未使用
- 初心者 + トラブル頻発履歴 + 未使用

#### **提供内容**
- ✅ **文字量：** 300文字以上の詳細説明
- ✅ **図解・アニメーション：** 必須
- ✅ **音声案内：** 推奨または必須
- ✅ **ステップバイステップ：** 必須
- ✅ **専門用語：** 最小限（必ず説明を付ける）

#### **メッセージ例（ACC）**
```
アダプティブクルーズコントロール（ACC）は、
前の車との距離を自動で保ちながら走行する機能です。

【使い方】
1. ステアリングの「CRUISE」ボタンを押します
2. 希望の速度まで加速します
3. 「SET」ボタンを押すと現在の速度で設定されます
4. 前方に車がいる場合、自動で減速して距離を保ちます
5. 前の車がいなくなると、設定速度まで自動で加速します

高速道路や自動車専用道路での使用をおすすめします。
```

---

### **詳細レベル（スコア2.0〜2.5未満）**

#### **対象ユーザー**
- 新規購入直後 + 中年層 + 通常運転 + 未使用
- 購入初期 + 初回使用済み
- 中古車購入直後 + 未使用

#### **提供内容**
- ✅ **文字量：** 200-300文字
- ✅ **図解・アニメーション：** 推奨
- ✅ **音声案内：** 任意
- ✅ **ステップバイステップ：** 推奨または必須
- ✅ **専門用語：** 少なめ（簡単な説明を付ける）

#### **メッセージ例（ACC）**
```
ACC（アダプティブクルーズコントロール）は
前車との距離を自動調整する機能です。

【使い方】
ステアリングの「CRUISE」ボタン
→希望速度まで加速
→「SET」ボタンで設定完了

前車に追従し、いない場合は設定速度で走行します。
高速道路での長距離運転に便利です。
```

---

### **やや詳細レベル（スコア1.5〜2.0未満）**

#### **対象ユーザー**
- 新規購入 + 試用段階
- 購入初期 + 習得中
- 通常利用期間 + 未使用機能

#### **提供内容**
- ✅ **文字量：** 150-200文字
- ✅ **図解・アニメーション：** 推奨
- ✅ **音声案内：** 任意
- ✅ **ステップバイステップ：** 任意
- ✅ **専門用語：** 普通

#### **メッセージ例（ACC）**
```
ACCは前車との距離を自動で保つ機能です。
ステアリングの「CRUISE」→加速→「SET」で設定。
前車に自動追従します。
高速道路での利用が便利です。
```

---

### **標準レベル（スコア1.0〜1.5未満）**

#### **対象ユーザー**
- 通常利用期間 + 試用段階〜習得中
- 長期利用者 + 習得中
- 購入初期 + 習熟段階

#### **提供内容**
- ✅ **文字量：** 100-150文字
- ✅ **図解・アニメーション：** 任意
- ✅ **音声案内：** 任意
- ✅ **ステップバイステップ：** 任意
- ✅ **専門用語：** 普通

#### **メッセージ例（ACC）**
```
ACCで前車との距離を自動調整できます。
CRUISEボタン→SET で設定。
高速道路で便利です。
```

---

### **簡潔レベル（スコア0.8〜1.0未満）**

#### **対象ユーザー**
- 通常利用期間 + 習熟段階
- 長期利用者 + 習熟段階

#### **提供内容**
- ✅ **文字量：** 50-100文字
- ✅ **図解・アニメーション：** 不要
- ✅ **音声案内：** 不要
- ✅ **ステップバイステップ：** 不要
- ✅ **専門用語：** 普通

#### **メッセージ例（ACC）**
```
ACCを設定すると前車に自動追従します。
```

---

### **最簡潔レベル（スコア0.8未満）**

#### **対象ユーザー**
- 通常利用期間 + 熟練者
- 長期利用者 + 熟練者
- 若年層 + 毎日運転 + トラブルなし + 熟練者

#### **提供内容**
- ✅ **文字量：** 50文字以下
- ✅ **図解・アニメーション：** 不要
- ✅ **音声案内：** 不要
- ✅ **ステップバイステップ：** 不要
- ✅ **専門用語：** 使用可（説明不要）

#### **メッセージ例（ACC）**
```
ACC設定済み
```

---

## 🔄 動的調整の仕組み

### **学習と適応**

#### **使用回数の自動カウント**
- 機能使用のたびに使用回数を自動更新
- USAGE_001（未使用）→ USAGE_002（初回使用）→ ...と進化

#### **最終使用日の記録**
- 使用履歴マスタの判定に活用
- 長期間使用していない場合は「休眠中」として再度丁寧に説明

#### **理解度の推定**
- 機能使用後のユーザー行動を分析
  - スムーズに使用できた → 理解度高い
  - ヘルプを何度も参照 → 理解度低い（より詳細な説明に切り替え）
  - エラー操作が多い → 理解度低い

---

## 📊 具体的な判定例

### **例1：新規購入・高齢者・ペーパードライバー・ACC未使用**

**入力：**
- 購入ステータス：STATUS_001（新規購入直後）→ 1.5
- 使用履歴：USAGE_001（未使用）→ 1.5
- 年齢層：AGE_001（高齢者）→ 1.2
- 運転頻度：FREQ_005（ペーパードライバー）→ 1.15
- トラブル履歴：HIST_004（通常）→ 1.0
- 車両タイプ：VEH_TYPE_002（個人車両）→ 1.0

**計算：**
```
総合理解度スコア = 1.5 × 1.5 × 1.2 × 1.15 × 1.0 × 1.0 = 3.105
```

**判定結果：**
- **説明レベル：** 最詳細
- **文字量：** 300文字以上
- **フォーマット：** 動画+ステップガイド+音声
- **図解・アニメーション：** 必須
- **音声案内：** 必須
- **ステップバイステップ：** 必須
- **専門用語：** 最小限

---

### **例2：長期利用者・若年層・毎日運転・ACC熟練**

**入力：**
- 購入ステータス：STATUS_004（長期利用者）→ 0.9
- 使用履歴：USAGE_006（熟練者）→ 0.6
- 年齢層：AGE_003（若年層）→ 0.95
- 運転頻度：FREQ_001（毎日）→ 0.9
- トラブル履歴：HIST_005（なし）→ 1.0
- 車両タイプ：VEH_TYPE_002（個人車両）→ 1.0

**計算：**
```
総合理解度スコア = 0.9 × 0.6 × 0.95 × 0.9 × 1.0 × 1.0 = 0.462
```

**判定結果：**
- **説明レベル：** 最簡潔
- **文字量：** 50文字以下
- **フォーマット：** テキストのみ
- **図解・アニメーション：** 不要
- **音声案内：** 不要
- **ステップバイステップ：** 不要
- **専門用語：** 使用可

---

### **例3：通常利用期間・中年層・週数回運転・ACC試用段階**

**入力：**
- 購入ステータス：STATUS_003（通常利用期間）→ 1.0
- 使用履歴：USAGE_003（試用段階）→ 1.2
- 年齢層：AGE_002（中年層）→ 1.0
- 運転頻度：FREQ_002（週数回）→ 1.0
- トラブル履歴：HIST_004（通常）→ 1.0
- 車両タイプ：VEH_TYPE_002（個人車両）→ 1.0

**計算：**
```
総合理解度スコア = 1.0 × 1.2 × 1.0 × 1.0 × 1.0 × 1.0 = 1.2
```

**判定結果：**
- **説明レベル：** 標準
- **文字量：** 100-150文字
- **フォーマット：** テキスト+図解
- **図解・アニメーション：** 任意
- **音声案内：** 任意
- **ステップバイステップ：** 任意
- **専門用語：** 普通

---

## 🎯 特殊ケースの対応

### **レンタカー・カーシェア利用者（車両タイプマスタで管理）**

#### **特徴**
- 車両に不慣れ
- 短期利用のため、迅速な理解が必要
- 安全性を最優先
- 車両ごとに操作が異なる

#### **対応**
- 車両タイプマスタ（VEH_TYPE_003: レンタカー、VEH_TYPE_004: カーシェア）で管理
- 購入ステータスと組み合わせて、最も詳細な説明を提供
- 安全に関わる機能は特に丁寧に説明
- 簡単に使える機能を優先的に案内

#### **スコア例**
- レンタカー + 新規購入直後 + 未使用 = 1.5 × 1.5 × ... × 1.6（レンタカー補正） = 非常に高いスコア → 最詳細

---

### **休眠中の機能（以前使用していたが長期間未使用）**

#### **特徴**
- 以前は使っていたが忘れている可能性
- 完全な初心者ではない

#### **対応**
- 復習を含む説明（補正値1.1）
- 「以前ご使用いただいた機能です」と明示
- 変更点があれば特に強調

---

### **一度使用後放置した機能**

#### **特徴**
- 試したが定着しなかった
- 理解しきれなかった可能性

#### **対応**
- 再度の丁寧な説明（補正値1.3）
- 前回と異なるアプローチで説明
- メリットをより強調

---

## 📱 UI/UX設計

### **説明レベルの視覚的表現**

#### **最詳細レベル**
```
┌─────────────────────────────────┐
│ 🎥 動画で見る（30秒）          │  ← 動画
├─────────────────────────────────┤
│ ACC（アダプティブクルーズ     │
│ コントロール）                 │
│                                 │
│ 前の車との距離を自動で保ちな   │  ← 詳細テキスト
│ がら走行する機能です。         │
│                                 │
│ 📋 ステップガイド               │  ← ステップ
│ 1️⃣ CRUISEボタンを押す          │
│ 2️⃣ 希望速度まで加速            │
│ 3️⃣ SETボタンで設定             │
│                                 │
│ 🔊 音声で聞く                   │  ← 音声
└─────────────────────────────────┘
```

#### **標準レベル**
```
┌─────────────────────────────────┐
│ ACC                             │
│ 前車との距離を自動調整          │  ← 簡潔テキスト
│                                 │
│ 💡 CRUISE→SET で設定            │  ← 簡易ガイド
│                                 │
│ 🛣️ 高速道路で便利               │  ← メリット
└─────────────────────────────────┘
```

#### **最簡潔レベル**
```
┌─────────────────────────────────┐
│ ACC設定済み                     │  ← テキストのみ
└─────────────────────────────────┘
```

---

## 📊 効果測定

### **KPI**

| 指標 | 目標値 | 測定方法 |
|-----|-------|---------|
| **機能理解度** | 90%以上 | 使用後アンケート |
| **機能定着率** | 70%以上 | 初回使用後の継続使用率 |
| **説明の適切性** | 4.5/5.0以上 | 「説明が適切だった」の評価 |
| **エラー操作率** | 10%以下 | 誤操作の発生割合 |
| **ヘルプ参照率** | 20%以下 | 説明後のヘルプ参照割合 |

---

## 🚨 警告メッセージへの適用

### **3ステップ構造の説明レベル別調整**

トラブル対応時の警告メッセージ（状態理解・判断支援・行動誘導）にも、同じ説明レベル調整を適用します。

#### **最詳細レベル（高齢者・初心者・緊急時）**
```
【状態理解】
緊急度：最高
トラブル内容：詳細説明（300文字）
原因：考えられる原因を複数列挙

【判断支援】
リスク説明：詳細（150文字）
推奨対応時間：明確に提示
安全に関する注意：強調

【行動誘導】
ステップバイステップ：必須
各ステップに番号付き
画面操作の具体的な説明
音声ガイダンス：必須
```

#### **標準レベル（通常ドライバー）**
```
【状態理解】
緊急度：表示
トラブル内容：簡潔説明（100文字）
原因：主要な原因のみ

【判断支援】
リスク：簡潔に
推奨対応時間：明示

【行動誘導】
主要ステップのみ
簡潔な指示
音声：任意
```

#### **最簡潔レベル（熟練者）**
```
【状態理解】緊急度+トラブル名
【判断支援】対応時間のみ
【行動誘導】ボタン名のみ
```

**注：** 緊急度が「最高」の場合は、熟練者でも音声案内を必須とします。

---

## 📁 ファイル構成

```
excel_data/
├── 3-1_購入ステータスマスタ.csv
├── 3-2_機能使用履歴マスタ.csv
├── 3-3_情報提示レベル調整マトリクス.csv
├── 3-4_説明レベル別メッセージサンプル.csv（機能説明用）
└── 3-5_警告メッセージレベル別サンプル.csv（トラブル警告用）

Algorithm/
└── 情報提示レベル調整_設計書.md
```

---

## ✅ まとめ

この情報提示レベル調整アルゴリズムにより：

1. ✅ **個別最適化された説明** - ユーザーごとに最適なレベル
2. ✅ **煩わしさの軽減** - 熟練者には簡潔に
3. ✅ **理解度の向上** - 初心者には丁寧に
4. ✅ **機能定着率の向上** - 適切な説明で継続使用を促進
5. ✅ **動的な調整** - 使用履歴に応じて自動的にレベル変更
6. ✅ **緊急時の安全性** - 警告メッセージも最適化しつつ安全を確保

これにより、すべてのユーザーに最適な情報提供が可能になります。
