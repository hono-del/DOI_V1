# アルゴリズム1：機能推奨タイミング判定
## 軸別マスタシート設計書

このドキュメントは、Excel作成のための設計書です。

---

## 📊 Excelファイル構成

**ファイル名：** `01_機能推奨タイミング判定_ルールマトリクス.xlsx`

**シート構成：** 15シート

### **Layer 1：軸別マスタ（10シート）**
1. **1-1_道路種別マスタ**
2. **1-1-2_季節マスタ**
3. **1-2_天気環境マスタ**
4. **1-2-2_時間帯マスタ**
5. **1-3_速度交通量マスタ**
6. **1-4_知識レベルマスタ**
7. **1-5_使用経験マスタ**
8. **1-6_車種機能マスタ**
9. **1-6-2_機能詳細マスタ**
10. **1-12_メーカーオプションマスタ**

### **Layer 2：掛け合わせルール（1シート）**
11. **1-7_機能推奨ルールマトリクス**

### **Layer 3：出力テンプレート（3シート）**
12. **1-8_運転者向けメッセージ**
13. **1-9_セールスマン向けメッセージ**
14. **1-10_コールセンター向けメッセージ**

### **テスト（1シート）**
15. **1-11_テストケース**

---

## 📋 シート詳細設計

### **シート1-1：道路種別マスタ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| 道路種別ID | テキスト | 一意の識別子 | ROAD_001 |
| 道路種別名 | テキスト | 道路の種類 | 渋滞 |
| 説明 | テキスト | 詳細説明 | 一般道・高速道路での渋滞状態 |
| 推奨機能カテゴリ | テキスト | この道路種別で推奨される機能の種類 | 運転支援（ACC系） |
| 安全スコア基準値 | 数値 | 基準となる安全スコア（0.0-1.0） | 0.90 |
| 優先度 | テキスト | 推奨の優先度 | 高 |
| 備考 | テキスト | 補足情報 | 低速で安全に練習できる |

#### **データ内容**

| 道路種別ID | 道路種別名 | 説明 | 推奨機能カテゴリ | 安全スコア基準値 | 優先度 | 備考 |
|-----------|-----------|------|----------------|---------------|-------|------|
| ROAD_001 | 渋滞 | 一般道・高速道路での渋滞状態（0-20km/h） | 運転支援（ACC系） | 0.90 | 高 | 低速で安全に練習できる |
| ROAD_002 | 高速道路 | 高速道路での通常走行 | 運転支援（ACC、LKA） | 0.80 | 中 | 長距離での疲労軽減 |
| ROAD_003 | 一般道 | 一般道路での通常走行 | 安全機能（PCS） | 0.85 | 中 | 市街地・郊外 |
| ROAD_004 | 駐車場 | 駐車場内での低速走行 | 駐車支援（PVM、ICS） | 0.95 | 高 | 視認性向上で安全 |
| ROAD_005 | 夜間一般道 | 夜間の一般道路走行 | 視認支援（AHS） | 0.90 | 高 | 視認性が低い |
| ROAD_006 | 山道 | カーブの多い山道 | 安全機能（VSC） | 0.75 | 中 | 横滑り防止が重要 |
| ROAD_007 | 市街地 | 信号・交差点の多い市街地 | 安全機能（PCS、BSM） | 0.80 | 中 | 歩行者・自転車に注意 |

---

### **シート1-2：天気環境マスタ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| 天気環境ID | テキスト | 一意の識別子 | WEATHER_001 |
| 天気環境名 | テキスト | 天候・環境の種類 | 晴れ |
| 説明 | テキスト | 詳細説明 | 良好な視界、路面乾燥 |
| リスクレベル | テキスト | 低/中/高 | 低 |
| 安全スコア補正値 | 数値 | 安全スコアへの補正（-0.3 ~ +0.1） | 0.00 |
| 推奨機能カテゴリ | テキスト | この環境で推奨される機能 | 通常機能 |
| 備考 | テキスト | 補足情報 | 通常の運転が可能 |

#### **データ内容**

| 天気環境ID | 天気環境名 | 説明 | リスクレベル | 安全スコア補正値 | 推奨機能カテゴリ | 備考 |
|-----------|-----------|------|------------|---------------|----------------|------|
| WEATHER_001 | 晴れ | 良好な視界、路面乾燥 | 低 | 0.00 | 通常機能 | 通常の運転が可能 |
| WEATHER_002 | 曇り | やや視界不良、路面乾燥 | 低 | -0.05 | 通常機能 | 夕方は視認性低下 |
| WEATHER_003 | 雨 | 視界不良、路面濡れ | 中 | -0.15 | 安全機能強化（VSC、PCS） | スリップ注意 |
| WEATHER_004 | 大雨 | 視界著しく不良、路面冠水リスク | 高 | -0.25 | 安全機能強化（VSC、PCS） | 速度抑制推奨 |
| WEATHER_005 | 雪 | 視界不良、路面凍結 | 高 | -0.30 | 安全機能強化（VSC） | スタッドレス必須 |
| WEATHER_006 | 霧 | 視界著しく不良 | 高 | -0.25 | 視認支援（AHS） | 前照灯・霧灯使用 |
| WEATHER_007 | 夜間 | 視界制限 | 中 | -0.10 | 視認支援（AHS） | ハイビーム活用 |
| WEATHER_008 | 夕方 | 逆光・視界制限 | 中 | -0.10 | 視認支援 | 西日に注意 |

---

### **シート1-3：速度交通量マスタ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| 速度交通量ID | テキスト | 一意の識別子 | SPEED_001 |
| 速度帯 | テキスト | 速度の範囲 | 0-20km/h |
| 交通量 | テキスト | 多い/普通/少ない/- | 多い |
| 説明 | テキスト | 詳細説明 | 渋滞時の低速走行 |
| 安全スコア補正値 | 数値 | 安全スコアへの補正 | +0.10 |
| 推奨機能の制約 | テキスト | この速度帯での制約 | 初心者でも推奨可 |
| 備考 | テキスト | 補足情報 | 低速で安全 |

#### **データ内容**

| 速度交通量ID | 速度帯 | 交通量 | 説明 | 安全スコア補正値 | 推奨機能の制約 | 備考 |
|------------|--------|--------|------|---------------|-------------|------|
| SPEED_001 | 0-20km/h | 多い | 渋滞時の低速走行 | +0.10 | 初心者でも推奨可 | 低速で安全 |
| SPEED_002 | 0-20km/h | - | 駐車場での低速走行 | +0.15 | 初心者でも推奨可 | 駐車支援に最適 |
| SPEED_003 | 20-60km/h | 普通 | 一般道での通常走行 | 0.00 | 標準 | 市街地・郊外 |
| SPEED_004 | 60-80km/h | 少ない | 郊外道路での走行 | -0.05 | 中級者推奨 | やや高速 |
| SPEED_005 | 80-100km/h | 少ない | 高速道路での通常走行 | -0.10 | 中級者推奨 | 経験者向け |
| SPEED_006 | 100km/h以上 | 少ない | 高速道路での高速走行 | -0.20 | 初心者は推奨不可 | 高速で初めての機能は危険 |

---

### **シート1-4：知識レベルマスタ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| 知識レベルID | テキスト | 一意の識別子 | LEVEL_001 |
| 知識レベル名 | テキスト | レベルの名称 | 初心者 |
| 定義 | テキスト | レベルの定義 | 購入後3ヶ月以内、または機能使用経験が少ない |
| 判定基準 | テキスト | 判定ロジック | 購入日数≤90日 OR 機能使用回数≤3回 |
| 説明スタイル | テキスト | 説明の方針 | 詳細・丁寧・ステップバイステップ |
| 情報量 | テキスト | 提供する情報量 | 多い |
| 推奨の慎重さ | テキスト | 推奨の慎重度 | 慎重（安全スコア0.85以上のみ推奨） |
| 備考 | テキスト | 補足情報 | 丁寧な説明が必要 |

#### **データ内容**

| 知識レベルID | 知識レベル名 | 定義 | 判定基準 | 説明スタイル | 情報量 | 推奨の慎重さ | 備考 |
|------------|------------|------|---------|------------|--------|------------|------|
| LEVEL_001 | 初心者 | 購入後3ヶ月以内、または機能使用経験が少ない | 購入日数≤90日 OR 機能使用回数≤3回 | 詳細・丁寧・ステップバイステップ | 多い | 慎重（安全スコア0.85以上のみ推奨） | 丁寧な説明が必要 |
| LEVEL_002 | 中級 | 購入後3ヶ月～1年、基本機能は使える | 90日<購入日数≤365日 AND 機能使用回数>3回 | 要点を押さえた説明 | 中程度 | 標準（安全スコア0.70以上で推奨） | 基本は理解している |
| LEVEL_003 | 上級 | 購入後1年以上、ほとんどの機能を使いこなせる | 購入日数>365日 AND 機能使用回数>10回 | 簡潔・必要最小限 | 少ない | 積極的（安全スコア0.60以上で推奨） | 通知のみで十分 |

---

### **シート1-5：使用経験マスタ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| 使用経験ID | テキスト | 一意の識別子 | EXP_001 |
| 使用経験レベル | テキスト | 経験の段階 | 未使用 |
| 使用回数範囲 | テキスト | 回数の範囲 | 0回 |
| 定義 | テキスト | レベルの定義 | この機能を一度も使ったことがない |
| 推奨の積極性 | テキスト | 推奨の積極度 | 積極的（条件が揃えば推奨） |
| メッセージの詳細度 | テキスト | 説明の詳しさ | 詳細説明（メリット・操作方法） |
| 備考 | テキスト | 補足情報 | 初回体験が重要 |

#### **データ内容**

| 使用経験ID | 使用経験レベル | 使用回数範囲 | 定義 | 推奨の積極性 | メッセージの詳細度 | 備考 |
|-----------|--------------|------------|------|------------|----------------|------|
| EXP_001 | 未使用 | 0回 | この機能を一度も使ったことがない | 積極的（条件が揃えば推奨） | 詳細説明（メリット・操作方法） | 初回体験が重要 |
| EXP_002 | 初回体験済み | 1-3回 | 機能を試したが、まだ使い慣れていない | やや積極的 | 中程度の説明（復習・補足） | 定着を促す |
| EXP_003 | 使い慣れている | 4-10回 | 機能を理解し、時々使っている | 標準 | 簡潔な説明（確認のみ） | 習慣化を促す |
| EXP_004 | マスター | 10回以上 | 機能を完全に理解し、日常的に使っている | 消極的（通知のみ） | 最小限（利用可能の通知のみ） | 自主的に使える |

---

### **シート1-6：車種機能マスタ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| 車種グレードID | テキスト | 一意の識別子 | CAR_001 |
| 車種名 | テキスト | 車種 | アクア |
| グレード | テキスト | グレード | G |
| ACC | テキスト | ○/△/× | ○ |
| LKA | テキスト | ○/△/× | ○ |
| BSM | テキスト | ○/△/× | △ |
| PCS | テキスト | ○/△/× | ○ |
| AHS | テキスト | ○/△/× | × |
| PVM | テキスト | ○/△/× | × |
| ICS | テキスト | ○/△/× | × |
| 備考 | テキスト | 補足情報 | エントリーモデル |

**凡例：**
- ○：標準装備
- △：オプション
- ×：非搭載

**機能略称：**
- ACC：アダプティブクルーズコントロール
- LKA：レーンキープアシスト
- BSM：ブラインドスポットモニター
- PCS：プリクラッシュセーフティ
- AHS：オートハイビーム
- PVM：パノラミックビューモニター
- ICS：インテリジェントクリアランスソナー

#### **データ内容**

| 車種グレードID | 車種名 | グレード | ACC | LKA | BSM | PCS | AHS | PVM | ICS | 備考 |
|--------------|--------|---------|-----|-----|-----|-----|-----|-----|-----|------|
| CAR_001 | アクア | G | ○ | ○ | △ | ○ | × | × | × | エントリーモデル |
| CAR_002 | アクア | Z | ○ | ○ | ○ | ○ | △ | × | × | 上位グレード |
| CAR_003 | ランドクルーザー250 | GX | ○ | ○ | ○ | ○ | ○ | ○ | × | 中間グレード |
| CAR_004 | ランドクルーザー250 | VX | ○ | ○ | ○ | ○ | ○ | ○ | ○ | 最上位グレード |
| CAR_005 | レクサスES300h | version L | ○ | ○ | ○ | ○ | ○ | ○ | ○ | プレミアム |
| CAR_006 | ハリアー | Z | ○ | ○ | ○ | ○ | ○ | ○ | ○ | 人気SUV |
| CAR_007 | クラウン | RS | ○ | ○ | ○ | ○ | ○ | ○ | ○ | セダン最上位 |
| CAR_008 | プリウス | Z | ○ | ○ | ○ | ○ | ○ | × | × | ハイブリッド |

---

### **シート1-12：メーカーオプションマスタ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| 車両個体ID | テキスト | 個別の車両を識別するID | VEH_001 |
| 車種グレードID | テキスト | 参照：シート1-6 | CAR_001 |
| オプション種類 | テキスト | 装着可能なオプション機能名 | BSM, AHS, PVM, なし |
| 装着有無 | 真偽値 | 実際に装着されているか | TRUE/FALSE |
| 備考 | テキスト | 補足情報 | アクアG・BSM装着 |

#### **データ内容**

| 車両個体ID | 車種グレードID | オプション種類 | 装着有無 | 備考 |
|----------|-------------|-------------|---------|------|
| VEH_001 | CAR_001 | なし | FALSE | アクアG・オプションなし |
| VEH_002 | CAR_001 | BSM | TRUE | アクアG・BSM装着 |
| VEH_003 | CAR_002 | なし | FALSE | アクアZ・オプションなし |
| VEH_004 | CAR_002 | AHS | TRUE | アクアZ・AHS装着 |
| VEH_005 | CAR_007 | なし | FALSE | クラウンRS・オプションなし |
| VEH_006 | CAR_007 | PVM | TRUE | クラウンRS・PVM装着 |
| VEH_007 | CAR_001 | BSM | FALSE | アクアG・BSM未装着 |
| VEH_008 | CAR_002 | AHS | FALSE | アクアZ・AHS未装着 |
| VEH_009 | CAR_007 | PVM | FALSE | クラウンRS・PVM未装着 |

**重要：** 車種機能マスタで「△（オプション）」となっている機能のみ装着可能

---

### **シート1-7：機能推奨ルールマトリクス（掛け合わせ）**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| ルールID | テキスト | 一意の識別子 | R001 |
| 道路種別ID | テキスト | 参照：シート1-1 | ROAD_001 |
| 天気環境ID | テキスト | 参照：シート1-2 | WEATHER_001 |
| 速度交通量ID | テキスト | 参照：シート1-3 | SPEED_001 |
| 知識レベルID | テキスト | 参照：シート1-4 | LEVEL_001 |
| 使用経験ID | テキスト | 参照：シート1-5 | EXP_001 |
| 必要機能 | テキスト | 必要な機能 | ACC |
| 推奨機能 | テキスト | 推奨する機能名 | 渋滞追従 |
| 基本安全スコア | 数値 | 基本スコア | 0.90 |
| 補正後安全スコア | 数値 | 各軸の補正値を加算 | 0.95 |
| 最終判定 | テキスト | 推奨/条件付き推奨/推奨しない | 推奨 |
| 優先度 | テキスト | 最高/高/中/低 | 高 |
| メッセージテンプレートID | テキスト | 参照：シート1-8～1-10 | MSG_001 |
| 備考 | テキスト | 補足情報 | 低速で安全に練習可能 |

#### **データ内容（20ルール例）**

| ルールID | 道路種別ID | 天気環境ID | 速度交通量ID | 知識レベルID | 使用経験ID | 必要機能 | 推奨機能 | 基本安全スコア | 補正後安全スコア | 最終判定 | 優先度 | 備考 |
|---------|-----------|-----------|------------|------------|-----------|---------|---------|--------------|---------------|---------|-------|------|
| R001 | ROAD_001 | WEATHER_001 | SPEED_001 | LEVEL_001 | EXP_001 | ACC | 渋滞追従 | 0.90 | 0.95 | 推奨 | 高 | 低速で安全に練習可能 |
| R002 | ROAD_002 | WEATHER_001 | SPEED_006 | LEVEL_001 | EXP_001 | ACC | - | 0.80 | 0.40 | 推奨しない | - | 高速で初めての機能は危険 |
| R003 | ROAD_002 | WEATHER_001 | SPEED_005 | LEVEL_002 | EXP_004 | ACC | ACC | 0.80 | 0.85 | 推奨 | 中 | 経験者には積極推奨 |
| R004 | ROAD_004 | WEATHER_001 | SPEED_002 | LEVEL_001 | EXP_001 | PVM | PVM | 0.95 | 0.90 | 推奨 | 高 | 低速で視認性向上 |
| R005 | ROAD_005 | WEATHER_007 | SPEED_003 | LEVEL_001 | EXP_001 | AHS | オートハイビーム | 0.90 | 0.95 | 推奨 | 高 | 操作不要で安全性向上 |
| R006 | ROAD_002 | WEATHER_003 | SPEED_005 | LEVEL_002 | EXP_002 | VSC | VSC確認 | 0.80 | 0.80 | 注意喚起 | 中 | 機能推奨ではなく注意喚起 |
| R007 | ROAD_003 | WEATHER_001 | SPEED_003 | LEVEL_001 | EXP_001 | PCS | PCS | 0.85 | 0.85 | 推奨 | 中 | 常時作動を確認 |
| R008 | ROAD_007 | WEATHER_001 | SPEED_003 | LEVEL_001 | EXP_001 | BSM | BSM | 0.80 | 0.85 | 推奨 | 中 | 市街地での死角確認 |
| R009 | ROAD_004 | WEATHER_001 | SPEED_002 | LEVEL_001 | EXP_001 | ICS | ICS | 0.95 | 0.95 | 推奨 | 高 | 駐車時の衝突防止 |
| R010 | ROAD_002 | WEATHER_001 | SPEED_005 | LEVEL_002 | EXP_001 | LKA | LKA | 0.80 | 0.75 | 条件付き推奨 | 中 | 高速で初回は慎重に |

（続く10ルールは様々なパターンを追加）

---

### **シート1-8：運転者向けメッセージ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| メッセージID | テキスト | 一意の識別子 | MSG_DRIVER_001 |
| 知識レベルID | テキスト | 参照：シート1-4 | LEVEL_001 |
| 使用経験ID | テキスト | 参照：シート1-5 | EXP_001 |
| 推奨機能 | テキスト | 推奨する機能名 | 渋滞追従 |
| メッセージテンプレート | テキスト | メッセージの雛形 | 「{状況}です。{機能名}を使うと{メリット}。{安全性説明}。試してみますか？」 |
| チャネル | テキスト | 提示チャネル | 音声+画面 |
| 優先度 | テキスト | 高/中/低 | 高 |

#### **データ内容**

| メッセージID | 知識レベルID | 使用経験ID | 推奨機能 | メッセージテンプレート | チャネル | 優先度 |
|------------|------------|-----------|---------|---------------------|---------|-------|
| MSG_DRIVER_001 | LEVEL_001 | EXP_001 | 渋滞追従 | 「渋滞が始まりました。渋滞追従機能を使うと、ブレーキとアクセルの操作が自動化され、疲労が軽減されます。低速で安全に練習できます。試してみますか？」 | 音声+画面 | 高 |
| MSG_DRIVER_002 | LEVEL_002 | EXP_004 | ACC | 「高速道路に入りました。ACCを使うと疲労が軽減されます。以前も使われていますね。今日も使いますか？」 | 音声のみ | 中 |
| MSG_DRIVER_003 | LEVEL_003 | EXP_004 | ACC | 「ACC利用可能です」 | 画面のみ | 低 |
| MSG_DRIVER_004 | LEVEL_001 | EXP_001 | PVM | 「駐車場に入りました。パノラミックビューモニターを使うと、車の周囲を上から見たように確認できます。狭い場所でも安心です。試してみますか？」 | 音声+画面 | 高 |
| MSG_DRIVER_005 | LEVEL_001 | EXP_001 | オートハイビーム | 「夜間走行中です。オートハイビームを使うと、対向車を検知して自動でハイビームとロービームを切り替えてくれます。操作不要で安全性が向上します。有効にしますか？」 | 音声+画面 | 高 |

（続く10-15メッセージパターンを追加）

---

### **シート1-9：セールスマン向けメッセージ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| メッセージID | テキスト | 一意の識別子 | MSG_SALES_001 |
| 推奨機能 | テキスト | 推奨する機能名 | 渋滞追従 |
| シーン | テキスト | 商談/納車説明/フォローアップ | 商談 |
| メッセージテンプレート | テキスト | メッセージの雛形 | 「この車には{機能名}があります。{メリット}。{顧客プロファイル}のお客様には特におすすめです」 |
| チャネル | テキスト | 提示チャネル | タブレット画面 |

#### **データ内容**

| メッセージID | 推奨機能 | シーン | メッセージテンプレート | チャネル |
|------------|---------|-------|---------------------|---------|
| MSG_SALES_001 | 渋滞追従 | 商談 | 「この車には渋滞追従機能があります。渋滞時にブレーキとアクセルを自動で操作してくれるので、疲労が大幅に軽減されます。お客様のような通勤で渋滞が多い方には特におすすめです」 | タブレット画面 |
| MSG_SALES_002 | ACC | 商談 | 「ACCは高速道路で非常に便利です。一定速度を保ちながら前の車に追従してくれます。長距離ドライブが多いお客様には必須の機能です」 | タブレット画面 |
| MSG_SALES_003 | PVM | 商談 | 「この車にはパノラミックビューモニターが付いています。駐車時に車を上から見たように表示されるので、狭い駐車場でも安心です。特に初めての方におすすめです」 | タブレット画面 |
| MSG_SALES_004 | 渋滞追従 | 納車説明 | 「渋滞追従機能の使い方を説明します。ステアリングのこのボタンを押すと有効になります。実際に試してみましょう」 | 対面+実車 |
| MSG_SALES_005 | ACC | フォローアップ | 「先日納車したACCは使われていますか？高速道路での疲労軽減に効果的ですよ。使い方で不明な点があればお気軽にお問い合わせください」 | 電話/メール |

（続く10メッセージパターンを追加）

---

### **シート1-10：コールセンター向けメッセージ**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| メッセージID | テキスト | 一意の識別子 | MSG_CC_001 |
| 推奨機能 | テキスト | 推奨する機能名 | ACC |
| 問い合わせパターン | テキスト | 問い合わせの種類 | 使い方がわからない |
| メッセージテンプレート | テキスト | メッセージの雛形 | 「{機能名}についてですね。お客様の車種は{車種}で、{搭載状況}です。{使い方説明}」 |
| チャネル | テキスト | 提示チャネル | 電話 |

#### **データ内容**

| メッセージID | 推奨機能 | 問い合わせパターン | メッセージテンプレート | チャネル |
|------------|---------|-----------------|---------------------|---------|
| MSG_CC_001 | ACC | 使い方がわからない | 「ACCについてですね。お客様の車種は{車種}で、ACCは{搭載状況}です。ステアリングの右側にあるボタンを押して、希望する速度を設定すると有効になります。詳しい動画をアプリでご確認いただけますので、後ほどURLをお送りします」 | 電話 |
| MSG_CC_002 | 渋滞追従 | どの状況で使えるか | 「渋滞追従機能についてですね。この機能は、渋滞時（0-20km/h）でブレーキとアクセルを自動で操作してくれます。高速道路でも一般道でも使えますが、低速での使用が最も安全です」 | 電話 |
| MSG_CC_003 | PVM | 画面が表示されない | 「パノラミックビューモニターが表示されないとのことですね。お客様の車種は{車種}で、PVMは{搭載状況}です。Rレンジに入れると自動で表示されます。それでも表示されない場合は、システムの不具合の可能性がありますので、ディーラーでの点検をお勧めします」 | 電話 |

（続く10メッセージパターンを追加）

---

### **シート1-11：テストケース**

| 列名 | データ型 | 説明 | 例 |
|------|---------|------|-----|
| ケースID | テキスト | 一意の識別子 | TC001 |
| テスト目的 | テキスト | テストの目的 | 渋滞時の初心者への推奨 |
| 道路種別ID | テキスト | 入力条件 | ROAD_001 |
| 天気環境ID | テキスト | 入力条件 | WEATHER_001 |
| 速度交通量ID | テキスト | 入力条件 | SPEED_001 |
| 知識レベルID | テキスト | 入力条件 | LEVEL_001 |
| 使用経験ID | テキスト | 入力条件 | EXP_001 |
| 車種グレードID | テキスト | 入力条件 | CAR_001 |
| 期待される推奨機能 | テキスト | 期待値 | 渋滞追従 |
| 期待される安全スコア | 数値 | 期待値 | 0.95 |
| 期待される判定 | テキスト | 期待値 | 推奨 |
| 実際の出力 | テキスト | テスト結果 | （空欄） |
| 判定 | テキスト | PASS/FAIL | （空欄） |
| 備考 | テキスト | 補足情報 | 最も基本的なケース |

#### **データ内容（10テストケース例）**

| ケースID | テスト目的 | 道路種別ID | 天気環境ID | 速度交通量ID | 知識レベルID | 使用経験ID | 車種グレードID | 期待される推奨機能 | 期待される安全スコア | 期待される判定 | 備考 |
|---------|----------|-----------|-----------|------------|------------|-----------|--------------|----------------|----------------|--------------|------|
| TC001 | 渋滞時の初心者への推奨 | ROAD_001 | WEATHER_001 | SPEED_001 | LEVEL_001 | EXP_001 | CAR_001 | 渋滞追従 | 0.95 | 推奨 | 最も基本的なケース |
| TC002 | 高速で初心者への非推奨 | ROAD_002 | WEATHER_001 | SPEED_006 | LEVEL_001 | EXP_001 | CAR_001 | - | 0.40 | 推奨しない | 高速で初めての機能は危険 |
| TC003 | 駐車場での初心者への推奨 | ROAD_004 | WEATHER_001 | SPEED_002 | LEVEL_001 | EXP_001 | CAR_003 | PVM | 0.90 | 推奨 | 低速で安全 |
| TC004 | 夜間の初心者への推奨 | ROAD_005 | WEATHER_007 | SPEED_003 | LEVEL_001 | EXP_001 | CAR_002 | オートハイビーム | 0.95 | 推奨 | 操作不要で安全 |
| TC005 | 雨天高速での経験者への注意喚起 | ROAD_002 | WEATHER_003 | SPEED_005 | LEVEL_002 | EXP_002 | CAR_005 | VSC確認 | 0.80 | 注意喚起 | 機能推奨ではなく注意 |
| TC006 | 機能非搭載時の判定 | ROAD_004 | WEATHER_001 | SPEED_002 | LEVEL_001 | EXP_001 | CAR_001 | - | - | 推奨不可 | PVM非搭載 |
| TC007 | 上級者への簡潔な推奨 | ROAD_002 | WEATHER_001 | SPEED_005 | LEVEL_003 | EXP_004 | CAR_005 | ACC | 0.85 | 推奨 | 簡潔な通知のみ |
| TC008 | 市街地での初心者への推奨 | ROAD_007 | WEATHER_001 | SPEED_003 | LEVEL_001 | EXP_001 | CAR_006 | BSM | 0.85 | 推奨 | 死角確認 |
| TC009 | 大雨時の推奨抑制 | ROAD_002 | WEATHER_004 | SPEED_005 | LEVEL_001 | EXP_001 | CAR_005 | - | 0.50 | 推奨しない | 天候リスク高 |
| TC010 | 中級者の条件付き推奨 | ROAD_002 | WEATHER_001 | SPEED_005 | LEVEL_002 | EXP_001 | CAR_005 | LKA | 0.75 | 条件付き推奨 | 慎重に試す |

---

## 📝 Excel作成時の注意点

### **1. データ検証の設定**

- **ドロップダウンリスト：** IDフィールドには他シートのマスタデータからドロップダウンを設定
- **数値範囲：** 安全スコアは0.0～1.0の範囲に制限
- **必須項目：** 空白不可の設定

### **2. 条件付き書式**

- **安全スコア：** 0.85以上は緑、0.60-0.85は黄色、0.60未満は赤
- **最終判定：** 「推奨」は緑、「条件付き推奨」は黄色、「推奨しない」は赤
- **優先度：** 最高は濃い赤、高は赤、中は黄色、低は灰色

### **3. 数式の活用**

- **補正後安全スコア：** `=基本安全スコア + VLOOKUP(道路種別ID, ...) + VLOOKUP(天気環境ID, ...) + ...`
- **最終判定：** `=IF(補正後安全スコア>=0.85, "推奨", IF(補正後安全スコア>=0.60, "条件付き推奨", "推奨しない"))`

### **4. シート保護**

- **マスタシート：** 基本的に保護し、承認者のみ編集可能
- **ルールマトリクス：** チーム全体で編集可能
- **テストケース：** 誰でも追加可能

---

**このドキュメントを基にExcelファイルを作成します。**

