# 推奨ロジック設計

**作成日：** 2026年1月14日  
**バージョン：** 2.0

---

## 🎯 概要

機能の**操作特性**に応じて、適切な推奨ロジックを適用することで、ユーザーにとって価値のある通知のみを行い、通知疲れを防ぎます。

---

## 📊 機能の操作特性による分類

機能詳細マスタの「操作頻度」列に基づき、3つの操作特性に分類します：

### **1. 一度ONで継続（常時ON可能）**

**特徴：**
- 一度ONにすれば、次回エンジン始動時も継続してONのまま
- ユーザーが意図的にOFFにしない限り継続

**該当機能：**
- ACC（アダプティブクルーズコントロール）
- LKA（レーンキープアシスト）
- AHS（オートハイビーム）
- 渋滞追従機能

**推奨ロジック：**
- **初回のみ推奨** - 未使用時のみ通知
- **定着促進推奨** - 初回体験済み（1-2回使用）の場合、定着を促すため数回通知
- **通知不要** - 使い慣れている（3回以上使用）、またはマスターレベルの場合は通知しない

---

### **2. 都度操作が必要**

**特徴：**
- 毎回手動で操作する必要がある
- 状況に応じて使用する機能

**該当機能：**
- PVM（パノラミックビューモニター）
- シートヒーター
- ステアリングヒーター
- パワーバックドア
- デジタルインナーミラー
- リアシートリクライニング
- シートクーラー
- パーキングアシスト

**推奨ロジック：**
- **毎回推奨** - 適切な状況であれば、使用経験に関わらず毎回通知
- **使用頻度に応じて調整** - 頻繁に使用している場合は通知頻度を下げる（オプション）

---

### **3. 操作不要（常時作動）**

**特徴：**
- 常時作動している機能
- ユーザーの操作が不要

**該当機能：**
- ICS（インテリジェントクリアランスソナー）
- BSM（ブラインドスポットモニター）
- EDSS（ドライバー異常時対応システム）

**推奨ロジック：**
- **通知不要** - 常時作動しているため、通知の必要なし

---

## 🔢 推奨ロジックの判定フロー

```
┌─────────────────────────────────────┐
│ 車両個体IDから車種グレードIDを取得   │
└────────────┬────────────────────────┘
             │
┌────────────▼────────────────────────┐
│ 機能推奨ルールマトリクスで           │
│ 「装備前提条件」列を確認             │
└────────────┬────────────────────────┘
             │
    ┌────────┴────────┐
    │                 │
┌───▼──────────┐ ┌──▼───────────────┐
│標準装備      │ │オプション確認必要│
└───┬──────────┘ └──┬───────────────┘
    │               │
    │       ┌───────▼───────┐
    │       │車種機能マスタで│
    │       │装備状況を確認  │
    │       └───┬───────────┘
    │           │
    │  ┌────────┴────────┐
    │  │                 │
    │ ┌▼──┐   ┌▼──┐   ┌▼──┐
    │ │○  │   │△  │   │×  │
    │ │標準│   │オプ│   │装備│
    │ │装備│   │ション│ │なし│
    │ └┬──┘   └┬──┘   └┬──┘
    │  │       │       │
    │  │  ┌────▼────┐  │
    │  │  │メーカー   │  │
    │  │  │オプション │  │
    │  │  │マスタで   │  │
    │  │  │装着確認   │  │
    │  │  └┬────┬───┘  │
    │  │   │    │      │
    │  │ ┌─▼─┐┌▼──┐  │
    │  │ │装着││装着│  │
    │  │ │あり││なし│  │
    │  │ └─┬─┘└┬──┘  │
    │  │   │   │      │
    └──┴───┴───┼──────┘
                 │
        ┌────────▼────────┐
        │推奨しない         │
        │（装備なし）       │
        └─────────────────┘
                 │
    ┌────────────▼────────────┐
    │ 機能の操作特性を確認      │
    └────────────┬────────────┘
                 │
        ┌────────┴────────┐
        │                 │
    ┌───▼───┐        ┌───▼───┐        ┌───▼───┐
    │一度ON │        │都度操作│        │操作不要│
    │で継続 │        │が必要 │        │       │
    └───┬───┘        └───┬───┘        └───┬───┘
        │                 │                 │
        │                 │                 │
    ┌───▼───────────┐ ┌──▼──────────┐ ┌──▼──────┐
    │使用経験を確認  │ │常に推奨      │ │通知不要  │
    │               │ │（状況適合時）│ │         │
    │・未使用       │ │             │ │         │
    │  →初回のみ推奨│ │ただし：     │ │         │
    │               │ │・安全スコア │ │         │
    │・初回体験済み │ │  が低い場合 │ │         │
    │  →定着促進推奨│ │  は推奨しない│ │         │
    │               │ │             │ │         │
    │・使い慣れている│ │・頻繁に使用 │ │         │
    │  →通知不要    │ │  している場合│ │         │
    │               │ │  は頻度調整 │ │         │
    │・マスター     │ │  （オプション│ │         │
    │  →通知不要    │ │  ）         │ │         │
    └───────────────┘ └─────────────┘ └─────────┘
```

---

## 📋 推奨ロジック一覧表

| 推奨ロジック | 対象機能の操作特性 | 使用経験 | 装備前提条件 | 通知タイミング | 通知頻度 | 目的 |
|------------|------------------|---------|------------|--------------|---------|------|
| **初回のみ推奨** | 一度ONで継続 | 未使用 | 標準装備 or オプション装着済 | 初回のみ | 1回 | 機能の存在を知らせる |
| **定着促進推奨** | 一度ONで継続 | 初回体験済み | 標準装備 or オプション装着済 | 2-5回目 | 数回 | 習慣化を促す |
| **通知不要** | 一度ONで継続 | 使い慣れている・マスター | 標準装備 or オプション装着済 | - | 0回 | 通知疲れを防ぐ |
| **毎回推奨** | 都度操作が必要 | 全レベル | 標準装備 or オプション装着済 | 状況適合時毎回 | 毎回 | 都度操作が必要なため毎回通知 |
| **推奨しない** | 全て | 全レベル | - | - | 0回 | 安全スコアが低い場合 or 装備なし |
| **通知不要** | 操作不要 | 全レベル | 標準装備 or オプション装着済 | - | 0回 | 常時作動のため通知不要 |

---

## 🎯 具体例

### **例1：ACC（一度ONで継続）**

#### **ケース1-1：初心者・未使用**
- **状況：** 高速道路・晴れ・日中・初心者・未使用
- **推奨ロジック：** 初回のみ推奨
- **通知内容：** 「高速道路に入りました。ACCを使うと疲労が軽減されます。試してみますか？」
- **通知回数：** 1回のみ

#### **ケース1-2：中級者・初回体験済み**
- **状況：** 高速道路・晴れ・日中・中級者・初回体験済み（1-2回使用）
- **推奨ロジック：** 定着促進推奨
- **通知内容：** 「以前使われたACCはいかがでしたか？今日も使いますか？」
- **通知回数：** 2-5回目まで

#### **ケース1-3：中級者・使い慣れている**
- **状況：** 高速道路・晴れ・日中・中級者・使い慣れている（3回以上使用）
- **推奨ロジック：** 通知不要
- **通知内容：** なし
- **通知回数：** 0回

---

### **例2：シートヒーター（都度操作が必要）**

#### **ケース2-1：初心者・未使用**
- **状況：** 一般道・冬季・晴れ・日中・初心者・未使用
- **推奨ロジック：** 毎回推奨
- **通知内容：** 「外気温が5℃です。シートヒーターを使うと、座面と背もたれが温まり、快適に運転できます。ONにしますか？」
- **通知回数：** 冬季の運転時、毎回

#### **ケース2-2：中級者・使い慣れている**
- **状況：** 一般道・冬季・晴れ・日中・中級者・使い慣れている
- **推奨ロジック：** 毎回推奨
- **通知内容：** 「外気温が5℃です。シートヒーターを使いますか？」（簡潔版）
- **通知回数：** 冬季の運転時、毎回（ただし簡潔に）

**理由：** 都度操作が必要な機能は、使い慣れていても毎回通知する価値がある。ただし、メッセージは簡潔にする。

---

### **例3：BSM（操作不要）**

#### **全ケース**
- **状況：** 市街地・全季節・全天候・全知識レベル・全使用経験
- **推奨ロジック：** 通知不要
- **通知内容：** なし
- **通知回数：** 0回

**理由：** 常時作動しているため、通知の必要なし。

---

## 📊 推奨ロジック別の通知例

### **初回のみ推奨**

| 機能 | 初心者向けメッセージ | 中級者向けメッセージ |
|------|-------------------|-------------------|
| ACC | 渋滞が始まりました。渋滞追従機能を使うと、ブレーキとアクセルの操作が自動化され、疲労が軽減されます。低速で安全に練習できます。試してみますか？ | 高速道路に入りました。ACCを使うと疲労が軽減されます。試してみますか？ |
| LKA | レーンキープアシストを使うと、車線中央を維持してくれます。高速道路での疲労軽減に効果的です。試してみますか？ | LKAを使ってみませんか？車線維持で疲労軽減に効果的です |
| AHS | 夜間走行中です。オートハイビームを使うと、対向車を検知して自動でハイビームとロービームを切り替えてくれます。操作不要で安全性が向上します。有効にしますか？ | オートハイビームを有効にしますか？夜間の視認性が向上します |

---

### **定着促進推奨**

| 機能 | メッセージ例 |
|------|------------|
| ACC | 以前使われたACCはいかがでしたか？今日も使いますか？操作に不明な点があれば、いつでも説明できます |
| LKA | レーンキープアシストを試してみませんか？以前も使われましたが、高速道路での疲労軽減に効果的です |

---

### **毎回推奨**

| 機能 | 初心者向けメッセージ | 中級者向けメッセージ | 上級者向けメッセージ |
|------|-------------------|-------------------|-------------------|
| PVM | 駐車場に入りました。パノラミックビューモニターを使うと、車の周囲を上から見たように確認できます。狭い場所でも安心です。試してみますか？ | パノラミックビューモニターを使ってみませんか？車を上から見たように表示されるので、狭い場所でも安心です | PVM利用可能 |
| シートヒーター | 外気温が5℃です。シートヒーターを使うと、座面と背もたれが温まり、快適に運転できます。腰の疲労も軽減されます。ONにしますか？ | 外気温が5℃です。シートヒーターを使いますか？ | シートヒーター利用可能 |
| パワーバックドア | 駐車しました。荷物の出し入れにパワーバックドアが便利です。スマートキーのボタンを長押しすると、自動で開きます。両手がふさがっている時も安心です | 買い物ですね。パワーバックドアを使うと、荷物を持ったままでもバックドアが自動で開きます。スマートキーのボタンを長押ししてください | パワーバックドア利用可能 |

---

## 🎯 まとめ

### **推奨ロジックの設計思想**

✅ **通知の価値を最大化**
- 一度ONで継続する機能：初回のみ通知し、習得後は通知しない
- 都度操作が必要な機能：毎回通知する価値がある
- 操作不要の機能：通知不要

✅ **通知疲れを防ぐ**
- 既に習得した機能は通知しない
- 知識レベルに応じてメッセージを簡潔化

✅ **ユーザーの成長に合わせる**
- 初心者：詳細な説明
- 中級者：要点を押さえた説明
- 上級者：簡潔な通知のみ

---

**この推奨ロジックにより、ユーザーにとって価値のある通知のみを行い、快適なユーザーエクスペリエンスを実現します！**

